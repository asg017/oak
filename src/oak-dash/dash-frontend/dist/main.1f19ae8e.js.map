{"version":3,"sources":["../src/vnode.js","../src/options.js","../src/h.js","../src/util.js","../src/clone-element.js","../src/constants.js","../src/render-queue.js","../src/vdom/index.js","../src/dom/index.js","../src/vdom/diff.js","../src/vdom/component-recycler.js","../src/vdom/component.js","../src/component.js","../src/render.js","../src/preact.js","node_modules/preact-context/dist/context.min.js","node_modules/parseuri/index.js","node_modules/ms/index.js","node_modules/socket.io-client/node_modules/debug/src/debug.js","node_modules/process/browser.js","node_modules/socket.io-client/node_modules/debug/src/browser.js","node_modules/socket.io-client/lib/url.js","node_modules/socket.io-parser/node_modules/debug/src/debug.js","node_modules/socket.io-parser/node_modules/debug/src/browser.js","node_modules/component-emitter/index.js","node_modules/socket.io-parser/node_modules/isarray/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/isarray/index.js","node_modules/buffer/index.js","node_modules/socket.io-parser/is-buffer.js","node_modules/socket.io-parser/binary.js","node_modules/socket.io-parser/index.js","node_modules/has-cors/index.js","node_modules/engine.io-client/lib/xmlhttprequest.js","node_modules/engine.io-parser/lib/keys.js","node_modules/has-binary2/node_modules/isarray/index.js","node_modules/has-binary2/index.js","node_modules/arraybuffer.slice/index.js","node_modules/after/index.js","node_modules/engine.io-parser/lib/utf8.js","node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","node_modules/blob/index.js","node_modules/engine.io-parser/lib/browser.js","node_modules/engine.io-client/lib/transport.js","node_modules/parseqs/index.js","node_modules/component-inherit/index.js","node_modules/yeast/index.js","node_modules/engine.io-client/node_modules/debug/src/debug.js","node_modules/engine.io-client/node_modules/debug/src/browser.js","node_modules/engine.io-client/lib/transports/polling.js","node_modules/engine.io-client/lib/transports/polling-xhr.js","node_modules/engine.io-client/lib/transports/polling-jsonp.js","node_modules/engine.io-client/lib/transports/websocket.js","node_modules/engine.io-client/lib/transports/index.js","node_modules/indexof/index.js","node_modules/engine.io-client/lib/socket.js","node_modules/engine.io-client/lib/index.js","node_modules/to-array/index.js","node_modules/socket.io-client/lib/on.js","node_modules/component-bind/index.js","node_modules/socket.io-client/lib/socket.js","node_modules/backo2/index.js","node_modules/socket.io-client/lib/manager.js","node_modules/socket.io-client/lib/index.js","node_modules/@observablehq/inspector/src/dispatch.js","node_modules/@observablehq/inspector/src/array.js","node_modules/@observablehq/inspector/src/inspectName.js","node_modules/@observablehq/inspector/src/formatSymbol.js","node_modules/@observablehq/inspector/src/object.js","node_modules/@observablehq/inspector/src/immutable.js","node_modules/@observablehq/inspector/src/expanded.js","node_modules/@observablehq/inspector/src/collapsed.js","node_modules/@observablehq/inspector/src/formatDate.js","node_modules/@observablehq/inspector/src/formatError.js","node_modules/@observablehq/inspector/src/formatRegExp.js","node_modules/@observablehq/inspector/src/formatString.js","node_modules/@observablehq/inspector/src/inspectFunction.js","node_modules/@observablehq/inspector/src/inspect.js","node_modules/@observablehq/inspector/src/index.js","node_modules/@observablehq/stdlib/src/constant.js","node_modules/@observablehq/stdlib/src/dom/canvas.js","node_modules/@observablehq/stdlib/src/dom/context2d.js","node_modules/@observablehq/stdlib/src/dom/download.js","node_modules/@observablehq/stdlib/src/dom/element.js","node_modules/@observablehq/stdlib/src/dom/input.js","node_modules/@observablehq/stdlib/src/dom/range.js","node_modules/@observablehq/stdlib/src/dom/select.js","node_modules/@observablehq/stdlib/src/dom/svg.js","node_modules/@observablehq/stdlib/src/dom/text.js","node_modules/@observablehq/stdlib/src/dom/uid.js","node_modules/@observablehq/stdlib/src/dom/index.js","node_modules/@observablehq/stdlib/src/files/buffer.js","node_modules/@observablehq/stdlib/src/files/text.js","node_modules/@observablehq/stdlib/src/files/url.js","node_modules/@observablehq/stdlib/src/files/index.js","node_modules/@observablehq/stdlib/src/that.js","node_modules/@observablehq/stdlib/src/generators/disposable.js","node_modules/@observablehq/stdlib/src/generators/filter.js","node_modules/@observablehq/stdlib/src/generators/observe.js","node_modules/@observablehq/stdlib/src/generators/input.js","node_modules/@observablehq/stdlib/src/generators/map.js","node_modules/@observablehq/stdlib/src/generators/queue.js","node_modules/@observablehq/stdlib/src/generators/range.js","node_modules/@observablehq/stdlib/src/generators/valueAt.js","node_modules/@observablehq/stdlib/src/generators/worker.js","node_modules/@observablehq/stdlib/src/generators/index.js","node_modules/@observablehq/stdlib/src/template.js","node_modules/@observablehq/stdlib/src/html.js","node_modules/marked/lib/marked.js","node_modules/@observablehq/stdlib/src/md.js","node_modules/@observablehq/stdlib/src/mutable.js","node_modules/@observablehq/stdlib/src/now.js","node_modules/@observablehq/stdlib/src/promises/delay.js","node_modules/@observablehq/stdlib/src/promises/when.js","node_modules/@observablehq/stdlib/src/promises/tick.js","node_modules/@observablehq/stdlib/src/promises/index.js","node_modules/@observablehq/stdlib/src/resolve.js","node_modules/d3-require/src/index.js","node_modules/@observablehq/stdlib/src/require.js","node_modules/@observablehq/stdlib/src/svg.js","node_modules/@observablehq/stdlib/src/tex.js","node_modules/@observablehq/stdlib/src/width.js","node_modules/@observablehq/stdlib/src/library.js","node_modules/@observablehq/stdlib/src/index.js","node_modules/@observablehq/runtime/src/errors.js","node_modules/@observablehq/runtime/src/generatorish.js","node_modules/@observablehq/runtime/src/load.js","node_modules/@observablehq/runtime/src/array.js","node_modules/@observablehq/runtime/src/constant.js","node_modules/@observablehq/runtime/src/identity.js","node_modules/@observablehq/runtime/src/rethrow.js","node_modules/@observablehq/runtime/src/noop.js","node_modules/@observablehq/runtime/src/variable.js","node_modules/@observablehq/runtime/src/module.js","node_modules/@observablehq/runtime/src/runtime.js","node_modules/@observablehq/runtime/src/index.js","node_modules/@mbostock/graph-o-matic/@d3/contours.js","node_modules/@mbostock/graph-o-matic/@mbostock/saving-svg.js","node_modules/@mbostock/graph-o-matic/@mbostock/graph-o-matic.js","main.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["VNode","options","stack","EMPTY_CHILDREN","h","nodeName","attributes","children","lastSimple","child","simple","i","arguments","length","push","pop","undefined","String","p","key","vnode","extend","obj","props","applyRef","ref","value","current","defer","Promise","resolve","then","bind","setTimeout","cloneElement","slice","call","NO_RENDER","SYNC_RENDER","FORCE_RENDER","ASYNC_RENDER","ATTR_KEY","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","debounceRendering","rerender","renderComponent","isSameNodeType","node","hydrating","splitText","_componentConstructor","isNamedNode","normalizedNodeName","toLowerCase","getNodeProps","defaultProps","createNode","isSvg","document","createElementNS","createElement","removeNode","parentNode","removeChild","setAccessor","name","old","className","style","cssText","test","innerHTML","__html","useCapture","replace","substring","addEventListener","eventProxy","removeEventListener","_listeners","e","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","type","event","mounts","diffLevel","isSvgMode","flushMounts","c","shift","afterMount","componentDidMount","diff","dom","context","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","appendChild","out","prevSvgMode","_component","nodeValue","createTextNode","replaceChild","recollectNodeTree","vnodeName","buildComponentFromVNode","firstChild","fc","vchildren","a","nextSibling","innerDiffNode","dangerouslySetInnerHTML","diffAttributes","isHydrating","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","j","f","vchild","__key","trim","insertBefore","unmountOnly","unmountComponent","removeChildren","lastChild","next","previousSibling","attrs","recyclerComponents","createComponent","Ctor","inst","prototype","render","Component","constructor","doRender","nextBase","splice","state","setComponentProps","renderMode","_disable","__ref","getDerivedStateFromProps","base","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","snapshot","rendered","cbase","shouldComponentUpdate","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","childComponent","toUnmount","childProps","_parentComponent","baseParent","componentRef","t","componentDidUpdate","afterUpdate","_renderCallbacks","originalComponent","oldDom","isDirectOwner","isOwner","beforeUnmount","componentWillUnmount","inner","setState","callback","forceUpdate","merge","createRef","process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","nextTick","args","Array","Item","array","apply","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","require","log","formatArgs","save","load","useColors","storage","chrome","local","localstorage","colors","window","navigator","userAgent","match","documentElement","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","$1","formatters","v","JSON","stringify","err","message","namespace","humanize","color","index","lastC","Function","namespaces","removeItem","debug","r","enable","localStorage","chars","lookup","Uint8Array","charCodeAt","encode","arraybuffer","bytes","base64","decode","bufferLength","encoded1","encoded2","encoded3","encoded4","ArrayBuffer","dispatch","detail","ownerDocument","defaultView","CustomEvent","createEvent","initEvent","dispatchEvent","isarray","isArray","Int8Array","Int16Array","Int32Array","Uint8ClampedArray","Uint16Array","Uint32Array","Float32Array","Float64Array","isindex","inspectName","n","textContent","symbolToString","Symbol","toString","formatSymbol","symbol","getOwnPropertySymbols","hasOwnProperty","Object","toStringTag","FORBIDDEN","symbolsof","isown","object","tagof","valueof","ignore","SYMBOLS","modifier","arrayish","prefix","setish","immutableName","symbols","filter","find","s","some","inspectExpanded","_","tag","fields","Map","size","iterateMap","Set","iterateSet","iterateArray","iterateImArray","iterateImSet","iterateImObject","iterateObject","span","stopPropagation","done","display","map","formatMapField","set","formatSetField","formatField","i1","get","item","hasSelection","elem","sel","getSelection","containsNode","anchorNode","isSelfOrDescendant","focusNode","inspectCollapsed","shallow","i0","formatEmpty","fragment","createDocumentFragment","pad","width","join","isUTCMidnight","date","getUTCMilliseconds","getUTCSeconds","getUTCMinutes","getUTCHours","formatYear","year","formatDate","isNaN","getUTCFullYear","getUTCMonth","getUTCDate","getFullYear","getMonth","getDate","getHours","getMinutes","getMilliseconds","getSeconds","errorToString","formatError","regExpToString","formatRegExp","NEWLINE_LIMIT","formatString","string","expanded","count","textValue","lines","split","div","templatify","splitter","truncatedCount","templatifyChar","char","code","re","exec","TYPE_ASYNC","TYPE_ASYNC_GENERATOR","TYPE_CLASS","TYPE_FUNCTION","TYPE_GENERATOR","inspectFunction","m","formatFunction","cellname","spanType","inspect","expand","Date","spanOld","spanNew","classList","contains","add","LOCATION_MATCH","Inspector","_node","pending","remove","fulfilled","Element","Text","rejected","error","into","container","querySelector","x","height","canvas","dpi","devicePixelRatio","getContext","scale","label","b","download","reset","requestAnimationFrame","URL","revokeObjectURL","href","disabled","onclick","createObjectURL","eventPhase","math","svg","xhtml","xlink","xml","xmlns","indexOf","element","input","max","step","values","select","forEach","option","Id","id","location","context2d","range","text","uid","file","reject","reader","FileReader","onload","result","onerror","readAsArrayBuffer","readAsText","readAsDataURL","buffer","url","that","disposable","dispose","iterator","return","throw","initialize","stale","change","eventof","inputted","valueAsNumber","valueAsDate","checked","multiple","files","transform","start","stop","Math","ceil","isFinite","worker","source","Blob","Worker","terminate","observe","valueAt","template","wrapper","strings","parts","part","root","nodes","walker","k","Node","createTreeWalker","NodeFilter","SHOW_COMMENT","nextNode","currentNode","nodeType","importNode","content","block","newline","fences","hr","heading","nptable","lheading","blockquote","list","html","def","paragraph","bullet","_tag","normal","gfm","tables","Lexer","tokens","links","marked","defaults","rules","lex","src","lexer","token","top","bq","loose","cap","bull","space","l","pedantic","lang","depth","header","align","cells","ordered","smartLists","charAt","sanitize","pre","sanitizer","inline","escape","autolink","link","reflink","nolink","strong","em","br","del","_inside","_href","breaks","InlineLexer","renderer","Renderer","output","mangle","inLink","outputLink","codespan","smartypants","image","ch","random","escaped","highlight","langPrefix","quote","level","raw","headerPrefix","body","listitem","tablerow","tablecell","flags","prot","decodeURIComponent","unescape","baseUrl","originIndependentUrl","resolveUrl","Parser","parse","parser","reverse","tok","peek","parseText","row","cell","fromCharCode","regex","opt","self","val","baseUrls","target","silent","setOptions","inlineLexer","HL_ROOT","querySelectorAll","hl","highlightBlock","getLanguage","has","language","registerLanguage","Mutable","defineProperties","generator","now","duration","timeouts","time","delete","delay","when","tick","metas","origin","identifierRe","versionRe","extensionRe","mains","RequireError","main","meta","parseIdentifier","identifier","path","resolveMeta","fetch","response","ok","redirected","json","startsWith","dependencies","peerDependencies","requireFrom","resolver","cache","requireBase","requireRelative","requireAbsolute","script","async","define","head","requireAlias","aliases","all","alias","modules","o","defineProperty","getter","isbuiltin","factory","amd","requireDefault","rel","katex","tex","displayMode","clientWidth","resized","w","Library","DOM","writable","enumerable","Files","Generators","md","Promises","RuntimeError","create","generatorish","notebook","library","observer","runtime","Runtime","runtime_module","variables","from","import","remote","variable","inputs","TYPE_NORMAL","TYPE_IMPLICIT","TYPE_DUPLICATE","no_observer","Variable","_observer","_definition","variable_undefined","_duplicate","_duplicates","_indegree","NaN","_inputs","_invalidate","_module","_name","_outputs","_promise","_reachable","_rejector","variable_rejector","_type","_value","_version","_pending","variable_pending","configurable","_fulfilled","variable_fulfilled","_rejected","variable_rejected","variable_define","variable_delete","variable_import","variable_attach","_runtime","variable_detach","variable_duplicate","definition","variable_defineImpl","_resolve","scope","_scope","_variables","_updates","found","keys","_compute","identity","none","Module","_copy","module_copy","module_resolve","redefine","module_redefine","module_define","derive","module_derive","module_import","module_value","module_variable","injects","injectModule","injectByAlias","inject","copy","sourceInput","sourceModule","targetModule","variable_name","_builtin","variable_invalidation","variable_visibility","_global","frame","setImmediate","builtins","global","window_global","builtin","_computing","_init","_modules","_disposed","runtime_compute","_computeSoon","runtime_computeSoon","_computeNow","runtime_computeNow","runtime_dispose","reachable","variable_reachable","clear","variable_increment","variable_compute","postqueue","catch","variable_value","variable_invalidator","variable_intersector","invalidation","IntersectionObserver","visible","promise","entry","isIntersecting","disconnect","y","value0","variable_return","variable_precompute","recompute","variable_postrecompute","outputs","d3","contours","xAxis","yAxis","attr","append","selectAll","data","d","geoPath","thresholds","scaleLog","domain","extent","interpolate","interpolateMagma","pow","q","x0","x1","y0","y1","grid","invert","coordinates","rings","points","scaleLinear","g","axisTop","ticks","includes","axisRight","child1","define1","chart","serialize","xlinkns","svgns","cloneNode","SHOW_ELEMENT","serializer","XMLSerializer","serializeToString","rasterize","Image","rect","getBoundingClientRect","drawImage","toBlob","dot","textarea","boxSizing","font","minHeight","border","padding","margin","background","tabSize","oninput","G","OakfileContext","SocketContext","OakfileCode","oakfile","contents","SocketStatus","status","OakfileGraph","OakfileGraphConsume","SocketProviders","socket","stats","params","baseURI","searchParams","encodedToken","atob","_onAuth","_onUnAuth","io","connect","_onConnect","App","bundleURL","getBundleURLCached","getBundleURL","matches","getBaseURL","bundle","updateLink","newLink","cssTimeout","reloadCSS","OVERLAY_ID","OldModule","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","parents","dep","deps","cached","cb"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjOA;AACA,IAAIiN,OAAO,GAAGC,MAAM,CAACC,OAAP,GAAiB,EAA/B,EAEA;AACA;AACA;AACA;;AAEA,IAAIC,gBAAJ;AACA,IAAIC,kBAAJ;;AAEA,SAASC,gBAAT,GAA4B;AACxB,QAAM,IAAIC,KAAJ,CAAU,iCAAV,CAAN;AACH;;AACD,SAASC,mBAAT,GAAgC;AAC5B,QAAM,IAAID,KAAJ,CAAU,mCAAV,CAAN;AACH;;AACA,aAAY;AACT,MAAI;AACA,QAAI,OAAOvL,UAAP,KAAsB,UAA1B,EAAsC;AAClCoL,MAAAA,gBAAgB,GAAGpL,UAAnB;AACH,KAFD,MAEO;AACHoL,MAAAA,gBAAgB,GAAGE,gBAAnB;AAC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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjOA;;;;;AAMAgI,OAAO,GAAGD,MAAM,CAACC,OAAP,GAAiB+C,OAAO,CAAC,SAAD,CAAlC;AACA/C,OAAO,CAACgD,GAAR,GAAcA,GAAd;AACAhD,OAAO,CAACiD,UAAR,GAAqBA,UAArB;AACAjD,OAAO,CAACkD,IAAR,GAAeA,IAAf;AACAlD,OAAO,CAACmD,IAAR,GAAeA,IAAf;AACAnD,OAAO,CAACoD,SAAR,GAAoBA,SAApB;AACApD,OAAO,CAACqD,OAAR,GAAkB,eAAe,OAAOC,MAAtB,IACA,eAAe,OAAOA,MAAM,CAACD,OAD7B,GAEEC,MAAM,CAACD,OAAP,CAAeE,KAFjB,GAGEC,YAAY,EAHhC;AAKA;;;;AAIAxD,OAAO,CAACyD,MAAR,GAAiB,CACf,SADe,EACJ,SADI,EACO,SADP,EACkB,SADlB,EAC6B,SAD7B,EACwC,SADxC,EACmD,SADnD,EAEf,SAFe,EAEJ,SAFI,EAEO,SAFP,EAEkB,SAFlB,EAE6B,SAF7B,EAEwC,SAFxC,EAEmD,SAFnD,EAGf,SAHe,EAGJ,SAHI,EAGO,SAHP,EAGkB,SAHlB,EAG6B,SAH7B,EAGwC,SAHxC,EAGmD,SAHnD,EAIf,SAJe,EAIJ,SAJI,EAIO,SAJP,EAIkB,SAJlB,EAI6B,SAJ7B,EAIwC,SAJxC,EAImD,SAJnD,EAKf,SALe,EAKJ,SALI,EAKO,SALP,EAKkB,SALlB,EAK6B,SAL7B,EAKwC,SALxC,EAKmD,SALnD,EAMf,SANe,EAMJ,SANI,EAMO,SANP,EAMkB,SANlB,EAM6B,SAN7B,EAMwC,SANxC,EAMmD,SANnD,EAOf,SAPe,EAOJ,SAPI,EAOO,SAPP,EAOkB,SAPlB,EAO6B,SAP7B,EAOwC,SAPxC,EAOmD,SAPnD,EAQf,SARe,EAQJ,SARI,EAQO,SARP,EAQkB,SARlB,EAQ6B,SAR7B,EAQwC,SARxC,EAQmD,SARnD,EASf,SATe,EASJ,SATI,EASO,SATP,EASkB,SATlB,EAS6B,SAT7B,EASwC,SATxC,EASmD,SATnD,EAUf,SAVe,EAUJ,SAVI,EAUO,SAVP,EAUkB,SAVlB,EAU6B,SAV7B,EAUwC,SAVxC,EAUmD,SAVnD,EAWf,SAXe,EAWJ,SAXI,EAWO,SAXP,EAWkB,SAXlB,EAW6B,SAX7B,EAWwC,SAXxC,CAAjB;AAcA;;;;;;;;AAQA,SAASL,SAAT,GAAqB;AACnB;AACA;AACA;AACA,MAAI,OAAOM,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAAC5D,OAAxC,IAAmD4D,MAAM,CAAC5D,OAAP,CAAexH,IAAf,KAAwB,UAA/E,EAA2F;AACzF,WAAO,IAAP;AACD,GANkB,CAQnB;;;AACA,MAAI,OAAOqL,SAAP,KAAqB,WAArB,IAAoCA,SAAS,CAACC,SAA9C,IAA2DD,SAAS,CAACC,SAAV,CAAoBvN,WAApB,GAAkCwN,KAAlC,CAAwC,uBAAxC,CAA/D,EAAiI;AAC/H,WAAO,KAAP;AACD,GAXkB,CAanB;AACA;;;AACA,SAAQ,OAAOnN,QAAP,KAAoB,WAApB,IAAmCA,QAAQ,CAACoN,eAA5C,IAA+DpN,QAAQ,CAACoN,eAAT,CAAyB1M,KAAxF,IAAiGV,QAAQ,CAACoN,eAAT,CAAyB1M,KAAzB,CAA+B2M,gBAAjI,IACL;AACC,SAAOL,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACM,OAAxC,KAAoDN,MAAM,CAACM,OAAP,CAAeC,OAAf,IAA2BP,MAAM,CAACM,OAAP,CAAeE,SAAf,IAA4BR,MAAM,CAACM,OAAP,CAAeG,KAA1H,CAFI,IAGL;AACA;AACC,SAAOR,SAAP,KAAqB,WAArB,IAAoCA,SAAS,CAACC,SAA9C,IAA2DD,SAAS,CAACC,SAAV,CAAoBvN,WAApB,GAAkCwN,KAAlC,CAAwC,gBAAxC,CAA3D,IAAwHO,QAAQ,CAACC,MAAM,CAACC,EAAR,EAAY,EAAZ,CAAR,IAA2B,EAL/I,IAML;AACC,SAAOX,SAAP,KAAqB,WAArB,IAAoCA,SAAS,CAACC,SAA9C,IAA2DD,SAAS,CAACC,SAAV,CAAoBvN,WAApB,GAAkCwN,KAAlC,CAAwC,oBAAxC,CAP9D;AAQD;AAED;;;;;AAIA7D,OAAO,CAACuE,UAAR,CAAmBnJ,CAAnB,GAAuB,UAASoJ,CAAT,EAAY;AACjC,MAAI;AACF,WAAOC,IAAI,CAACC,SAAL,CAAeF,CAAf,CAAP;AACD,GAFD,CAEE,OAAOG,GAAP,EAAY;AACZ,WAAO,iCAAiCA,GAAG,CAACC,OAA5C;AACD;AACF,CAND;AASA;;;;;;;AAMA,SAAS3B,UAAT,CAAoB5B,IAApB,EAA0B;AACxB,MAAI+B,SAAS,GAAG,KAAKA,SAArB;AAEA/B,EAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAC+B,SAAS,GAAG,IAAH,GAAU,EAApB,IACN,KAAKyB,SADC,IAELzB,SAAS,GAAG,KAAH,GAAW,GAFf,IAGN/B,IAAI,CAAC,CAAD,CAHE,IAIL+B,SAAS,GAAG,KAAH,GAAW,GAJf,IAKN,GALM,GAKApD,OAAO,CAAC8E,QAAR,CAAiB,KAAK9L,IAAtB,CALV;AAOA,MAAI,CAACoK,SAAL,EAAgB;AAEhB,MAAIxK,CAAC,GAAG,YAAY,KAAKmM,KAAzB;AACA1D,EAAAA,IAAI,CAAC1E,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkB/D,CAAlB,EAAqB,gBAArB,EAbwB,CAexB;AACA;AACA;;AACA,MAAIoM,KAAK,GAAG,CAAZ;AACA,MAAIC,KAAK,GAAG,CAAZ;AACA5D,EAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQ3J,OAAR,CAAgB,aAAhB,EAA+B,UAASmM,KAAT,EAAgB;AAC7C,QAAI,SAASA,KAAb,EAAoB;AACpBmB,IAAAA,KAAK;;AACL,QAAI,SAASnB,KAAb,EAAoB;AAClB;AACA;AACAoB,MAAAA,KAAK,GAAGD,KAAR;AACD;AACF,GARD;AAUA3D,EAAAA,IAAI,CAAC1E,MAAL,CAAYsI,KAAZ,EAAmB,CAAnB,EAAsBrM,CAAtB;AACD;AAED;;;;;;;;AAOA,SAASoK,GAAT,GAAe;AACb;AACA;AACA,SAAO,aAAa,OAAOgB,OAApB,IACFA,OAAO,CAAChB,GADN,IAEFkC,QAAQ,CAAC7I,SAAT,CAAmBoF,KAAnB,CAAyBzM,IAAzB,CAA8BgP,OAAO,CAAChB,GAAtC,EAA2CgB,OAA3C,EAAoDxQ,SAApD,CAFL;AAGD;AAED;;;;;;;;AAOA,SAAS0P,IAAT,CAAciC,UAAd,EAA0B;AACxB,MAAI;AACF,QAAI,QAAQA,UAAZ,EAAwB;AACtBnF,MAAAA,OAAO,CAACqD,OAAR,CAAgB+B,UAAhB,CAA2B,OAA3B;AACD,KAFD,MAEO;AACLpF,MAAAA,OAAO,CAACqD,OAAR,CAAgBgC,KAAhB,GAAwBF,UAAxB;AACD;AACF,GAND,CAME,OAAMnN,CAAN,EAAS,CAAE;AACd;AAED;;;;;;;;AAOA,SAASmL,IAAT,GAAgB;AACd,MAAImC,CAAJ;;AACA,MAAI;AACFA,IAAAA,CAAC,GAAGtF,OAAO,CAACqD,OAAR,CAAgBgC,KAApB;AACD,GAFD,CAEE,OAAMrN,CAAN,EAAS,CAAE,CAJC,CAMd;;;AACA,MAAI,CAACsN,CAAD,IAAM,OAAOxF,OAAP,KAAmB,WAAzB,IAAwC,SAASA,OAArD,EAA8D;AAC5DwF,IAAAA,CAAC,YAAD;AACD;;AAED,SAAOA,CAAP;AACD;AAED;;;;;AAIAtF,OAAO,CAACuF,MAAR,CAAepC,IAAI,EAAnB;AAEA;;;;;;;;;;;AAWA,SAASK,YAAT,GAAwB;AACtB,MAAI;AACF,WAAOE,MAAM,CAAC8B,YAAd;AACD,GAFD,CAEE,OAAOxN,CAAP,EAAU,CAAE;AACf;;AClMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnKA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7vDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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AAC,GAAC,CAApB,CAAD,CAAjB;AACA+S,MAAAA,QAAQ,GAAGZ,MAAM,CAACM,MAAM,CAACJ,UAAP,CAAkBrS,CAAC,GAAC,CAApB,CAAD,CAAjB;AAEAwS,MAAAA,KAAK,CAACjS,CAAC,EAAF,CAAL,GAAcqS,QAAQ,IAAI,CAAb,GAAmBC,QAAQ,IAAI,CAA5C;AACAL,MAAAA,KAAK,CAACjS,CAAC,EAAF,CAAL,GAAc,CAACsS,QAAQ,GAAG,EAAZ,KAAmB,CAApB,GAA0BC,QAAQ,IAAI,CAAnD;AACAN,MAAAA,KAAK,CAACjS,CAAC,EAAF,CAAL,GAAc,CAACuS,QAAQ,GAAG,CAAZ,KAAkB,CAAnB,GAAyBC,QAAQ,GAAG,EAAjD;AACD;;AAED,WAAOR,WAAP;AACD,GA3BD;AA4BD,CA3DD;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7lBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjOA;;;;;AAMA9F,OAAO,GAAGD,MAAM,CAACC,OAAP,GAAiB+C,OAAO,CAAC,SAAD,CAAlC;AACA/C,OAAO,CAACgD,GAAR,GAAcA,GAAd;AACAhD,OAAO,CAACiD,UAAR,GAAqBA,UAArB;AACAjD,OAAO,CAACkD,IAAR,GAAeA,IAAf;AACAlD,OAAO,CAACmD,IAAR,GAAeA,IAAf;AACAnD,OAAO,CAACoD,SAAR,GAAoBA,SAApB;AACApD,OAAO,CAACqD,OAAR,GAAkB,eAAe,OAAOC,MAAtB,IACA,eAAe,OAAOA,MAAM,CAACD,OAD7B,GAEEC,MAAM,CAACD,OAAP,CAAeE,KAFjB,GAGEC,YAAY,EAHhC;AAKA;;;;AAIAxD,OAAO,CAACyD,MAAR,GAAiB,CACf,SADe,EACJ,SADI,EACO,SADP,EACkB,SADlB,EAC6B,SAD7B,EACwC,SADxC,EACmD,SADnD,EAEf,SAFe,EAEJ,SAFI,EAEO,SAFP,EAEkB,SAFlB,EAE6B,SAF7B,EAEwC,SAFxC,EAEmD,SAFnD,EAGf,SAHe,EAGJ,SAHI,EAGO,SAHP,EAGkB,SAHlB,EAG6B,SAH7B,EAGwC,SAHxC,EAGmD,SAHnD,EAIf,SAJe,EAIJ,SAJI,EAIO,SAJP,EAIkB,SAJlB,EAI6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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC/OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1uBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7jBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;A6E9FA,IAAIg4B,SAAS,GAAG,IAAhB;;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAI9vB,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOuE,GAAP,EAAY;AACZ,QAAIwrB,OAAO,GAAG,CAAC,KAAKxrB,GAAG,CAAC7R,KAAV,EAAiB+Q,KAAjB,CAAuB,+DAAvB,CAAd;;AACA,QAAIssB,OAAJ,EAAa;AACX,aAAOC,UAAU,CAACD,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAA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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["/**\n * Virtual DOM Node\n * @typedef VNode\n * @property {string | function} nodeName The string of the DOM node to create or Component constructor to render\n * @property {Array<VNode | string>} children The children of node\n * @property {string | number | undefined} key The key used to identify this VNode in a list\n * @property {object} attributes The properties of this VNode\n */\nexport const VNode = function VNode() {};\n","/**\n * @typedef {import('./component').Component} Component\n * @typedef {import('./vnode').VNode} VNode\n */\n\n/**\n * Global options\n * @public\n * @typedef Options\n * @property {boolean} [syncComponentUpdates] If `true`, `prop` changes trigger synchronous component updates. Defaults to true.\n * @property {(vnode: VNode) => void} [vnode] Processes all created VNodes.\n * @property {(component: Component) => void} [afterMount] Hook invoked after a component is mounted.\n * @property {(component: Component) => void} [afterUpdate] Hook invoked after the DOM is updated with a component's latest render.\n * @property {(component: Component) => void} [beforeUnmount] Hook invoked immediately before a component is unmounted.\n * @property {(rerender: function) => void} [debounceRendering] Hook invoked whenever a rerender is requested. Can be used to debounce rerenders.\n * @property {(event: Event) => Event | void} [event] Hook invoked before any Preact event listeners. The return value (if any) replaces the native browser event given to event listeners\n */\n\n/** @type {Options}  */\nconst options = {};\n\nexport default options;\n","import { VNode } from './vnode';\nimport options from './options';\n\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility\n * reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a\n * lightweight representation of the structure of a DOM tree. This structure can\n * be realized by recursively comparing it against the current _actual_ DOM\n * structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string | function} nodeName An element name. Ex: `div`, `a`, `span`, etc.\n * @param {object | null} attributes Any attributes/props to set on the created element.\n * @param {VNode[]} [rest] Additional arguments are taken to be children to\n *  append. Can be infinitely nested Arrays.\n *\n * @public\n */\nexport function h(nodeName, attributes) {\n\tlet children=EMPTY_CHILDREN, lastSimple, child, simple, i;\n\tfor (i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children!=null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop!==undefined) {\n\t\t\tfor (i=child.length; i--; ) stack.push(child[i]);\n\t\t}\n\t\telse {\n\t\t\tif (typeof child==='boolean') child = null;\n\n\t\t\tif ((simple = typeof nodeName!=='function')) {\n\t\t\t\tif (child==null) child = '';\n\t\t\t\telse if (typeof child==='number') child = String(child);\n\t\t\t\telse if (typeof child!=='string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length-1] += child;\n\t\t\t}\n\t\t\telse if (children===EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tlet p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes==null ? undefined : attributes;\n\tp.key = attributes==null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode!==undefined) options.vnode(p);\n\n\treturn p;\n}\n","/**\n * Copy all properties from `props` onto `obj`.\n * @param {object} obj Object onto which properties should be copied.\n * @param {object} props Object from which to copy properties.\n * @returns {object}\n * @private\n */\nexport function extend(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn obj;\n}\n\n/** Invoke or update a ref, depending on whether it is a function or object ref.\n *  @param {object|function} [ref=null]\n *  @param {any} [value]\n */\nexport function applyRef(ref, value) {\n\tif (ref) {\n\t\tif (typeof ref=='function') ref(value);\n\t\telse ref.current = value;\n\t}\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n * @type {(callback: function) => void}\n */\nexport const defer = typeof Promise=='function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n","import { extend } from './util';\nimport { h } from './h';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its\n * children.\n * @param {import('./vnode').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./vnode').VNode>} [rest] Any additional arguments will be used as replacement\n *  children.\n */\nexport function cloneElement(vnode, props) {\n\treturn h(\n\t\tvnode.nodeName,\n\t\textend(extend({}, vnode.attributes), props),\n\t\targuments.length>2 ? [].slice.call(arguments, 2) : vnode.children\n\t);\n}\n","// render modes\n\n/** Do not re-render a component */\nexport const NO_RENDER = 0;\n/** Synchronously re-render a component and its children */\nexport const SYNC_RENDER = 1;\n/** Synchronously re-render a component, even if its lifecycle methods attempt to prevent it. */\nexport const FORCE_RENDER = 2;\n/** Queue asynchronous re-render of a component and it's children */\nexport const ASYNC_RENDER = 3;\n\n\nexport const ATTR_KEY = '__preactattr_';\n\n/** DOM properties that should NOT have \"px\" added when numeric */\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n","import options from './options';\nimport { defer } from './util';\nimport { renderComponent } from './vdom/component';\n\n/**\n * Managed queue of dirty components to be re-rendered\n * @type {Array<import('./component').Component>}\n */\nlet items = [];\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./component').Component} component The component to rerender\n */\nexport function enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component)==1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\n/** Rerender all enqueued dirty components */\nexport function rerender() {\n\tlet p;\n\twhile ( (p = items.pop()) ) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { extend } from '../util';\n\n\n/**\n * Check if two nodes are equivalent.\n * @param {import('../dom').PreactElement} node DOM Node to compare\n * @param {import('../vnode').VNode} vnode Virtual DOM node to compare\n * @param {boolean} [hydrating=false] If true, ignores component constructors\n *  when comparing.\n * @private\n */\nexport function isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\t\treturn node.splitText!==undefined;\n\t}\n\tif (typeof vnode.nodeName==='string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor===vnode.nodeName;\n}\n\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n * @param {import('../dom').PreactElement} node A DOM Element to inspect the name of.\n * @param {string} nodeName Unnormalized name to compare against.\n */\nexport function isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName===nodeName || node.nodeName.toLowerCase()===nodeName.toLowerCase();\n}\n\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n * @param {import('../vnode').VNode} vnode The VNode to get props for\n * @returns {object} The props to use for this VNode\n */\nexport function getNodeProps(vnode) {\n\tlet props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tlet defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps!==undefined) {\n\t\tfor (let i in defaultProps) {\n\t\t\tif (props[i]===undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport { applyRef } from '../util';\nimport options from '../options';\n\n/**\n * A DOM event listener\n * @typedef {(e: Event) => void} EventListner\n */\n\n/**\n * A mapping of event types to event listeners\n * @typedef {Object.<string, EventListener>} EventListenerMap\n */\n\n/**\n * Properties Preact adds to elements it creates\n * @typedef PreactElementExtensions\n * @property {string} [normalizedNodeName] A normalized node name to use in diffing\n * @property {EventListenerMap} [_listeners] A map of event listeners added by components to this DOM node\n * @property {import('../component').Component} [_component] The component that rendered this DOM node\n * @property {function} [_componentConstructor] The constructor of the component that rendered this DOM node\n */\n\n/**\n * A DOM element that has been extended with Preact properties\n * @typedef {Element & ElementCSSInlineStyle & PreactElementExtensions} PreactElement\n */\n\n/**\n * Create an element with the given nodeName.\n * @param {string} nodeName The DOM node to create\n * @param {boolean} [isSvg=false] If `true`, creates an element within the SVG\n *  namespace.\n * @returns {PreactElement} The created DOM node\n */\nexport function createNode(nodeName, isSvg) {\n\t/** @type {PreactElement} */\n\tlet node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n\n/**\n * Remove a child node from its parent if attached.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n\n/**\n * Set a named attribute on the given Node, with special behavior for some names\n * and event handlers. If `value` is `null`, the attribute/handler will be\n * removed.\n * @param {PreactElement} node An element to mutate\n * @param {string} name The name/key to set, such as an event or attribute name\n * @param {*} old The last value that was set for this name/node pair\n * @param {*} value An attribute value, such as a function to be used as an\n *  event handler\n * @param {boolean} isSvg Are we currently diffing inside an svg?\n * @private\n */\nexport function setAccessor(node, name, old, value, isSvg) {\n\tif (name==='className') name = 'class';\n\n\n\tif (name==='key') {\n\t\t// ignore\n\t}\n\telse if (name==='ref') {\n\t\tapplyRef(old, null);\n\t\tapplyRef(value, node);\n\t}\n\telse if (name==='class' && !isSvg) {\n\t\tnode.className = value || '';\n\t}\n\telse if (name==='style') {\n\t\tif (!value || typeof value==='string' || typeof old==='string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value==='object') {\n\t\t\tif (typeof old!=='string') {\n\t\t\t\tfor (let i in old) if (!(i in value)) node.style[i] = '';\n\t\t\t}\n\t\t\tfor (let i in value) {\n\t\t\t\tnode.style[i] = typeof value[i]==='number' && IS_NON_DIMENSIONAL.test(i)===false ? (value[i]+'px') : value[i];\n\t\t\t}\n\t\t}\n\t}\n\telse if (name==='dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t}\n\telse if (name[0]=='o' && name[1]=='n') {\n\t\tlet useCapture = name !== (name=name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\telse {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t}\n\telse if (name!=='list' && name!=='type' && !isSvg && name in node) {\n\t\t// Attempt to set a DOM property to the given value.\n\t\t// IE & FF throw for certain property-value combinations.\n\t\ttry {\n\t\t\tnode[name] = value==null ? '' : value;\n\t\t} catch (e) { }\n\t\tif ((value==null || value===false) && name!='spellcheck') node.removeAttribute(name);\n\t}\n\telse {\n\t\tlet ns = isSvg && (name !== (name = name.replace(/^xlink:?/, '')));\n\t\t// spellcheck is treated differently than all other boolean values and\n\t\t// should not be removed when the value is `false`. See:\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-spellcheck\n\t\tif (value==null || value===false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());\n\t\t\telse node.removeAttribute(name);\n\t\t}\n\t\telse if (typeof value!=='function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);\n\t\t\telse node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n","import { ATTR_KEY } from '../constants';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { buildComponentFromVNode } from './component';\nimport { createNode, setAccessor } from '../dom/index';\nimport { unmountComponent } from './component';\nimport options from '../options';\nimport { applyRef } from '../util';\nimport { removeNode } from '../dom/index';\n\n/**\n * Queue of components that have been mounted and are awaiting componentDidMount\n * @type {Array<import('../component').Component>}\n */\nexport const mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nexport function flushMounts() {\n\tlet c;\n\twhile ((c = mounts.shift())) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n\n/**\n * Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n * @param {import('../dom').PreactElement} dom A DOM node to mutate into the shape of a `vnode`\n * @param {import('../vnode').VNode} vnode A VNode (with descendants forming a tree) representing\n *  the desired DOM structure\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {Element} parent ?\n * @param {boolean} componentRoot ?\n * @returns {import('../dom').PreactElement} The created/mutated element\n * @private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent!=null && parent.ownerSVGElement!==undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom!=null && !(ATTR_KEY in dom);\n\t}\n\n\tlet ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode!==parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (!--diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n\n/**\n * Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing.\n * @param {import('../dom').PreactElement} dom A DOM node to mutate into the shape of a `vnode`\n * @param {import('../vnode').VNode} vnode A VNode (with descendants forming a tree) representing the desired DOM structure\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {boolean} [componentRoot] ?\n * @private\n */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tlet out = dom,\n\t\tprevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode==null || typeof vnode==='boolean') vnode = '';\n\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode==='string' || typeof vnode==='number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText!==undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue!=vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout[ATTR_KEY] = true;\n\n\t\treturn out;\n\t}\n\n\n\t// If the VNode represents a Component, perform a component diff:\n\tlet vnodeName = vnode.nodeName;\n\tif (typeof vnodeName==='function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName==='svg' ? true : vnodeName==='foreignObject' ? false : isSvgMode;\n\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) out.appendChild(dom.firstChild);\n\n\t\t\t// if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\n\tlet fc = out.firstChild,\n\t\tprops = out[ATTR_KEY],\n\t\tvchildren = vnode.children;\n\n\tif (props==null) {\n\t\tprops = out[ATTR_KEY] = {};\n\t\tfor (let a=out.attributes, i=a.length; i--; ) props[a[i].name] = a[i].value;\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length===1 && typeof vchildren[0]==='string' && fc!=null && fc.splitText!==undefined && fc.nextSibling==null) {\n\t\tif (fc.nodeValue!=vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc!=null) {\n\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML!=null);\n\t}\n\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n\n/**\n * Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n * @param {import('../dom').PreactElement} dom Element whose children should be compared & mutated\n * @param {Array<import('../vnode').VNode>} vchildren Array of VNodes to compare to `dom.childNodes`\n * @param {object} context Implicitly descendant context object (from most\n *  recent `getChildContext()`)\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @param {boolean} isHydrating if `true`, consumes externally created elements\n *  similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tlet originalChildren = dom.childNodes,\n\t\tchildren = [],\n\t\tkeyed = {},\n\t\tkeyedLen = 0,\n\t\tmin = 0,\n\t\tlen = originalChildren.length,\n\t\tchildrenLen = 0,\n\t\tvlen = vchildren ? vchildren.length : 0,\n\t\tj, c, f, vchild, child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len!==0) {\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = originalChildren[i],\n\t\t\t\tprops = child[ATTR_KEY],\n\t\t\t\tkey = vlen && props ? child._component ? child._component.__key : props.key : null;\n\t\t\tif (key!=null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = child;\n\t\t\t}\n\t\t\telse if (props || (child.splitText!==undefined ? (isHydrating ? child.nodeValue.trim() : true) : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen!==0) {\n\t\tfor (let i=0; i<vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tlet key = vchild.key;\n\t\t\tif (key!=null) {\n\t\t\t\tif (keyedLen && keyed[key]!==undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (min<childrenLen) {\n\t\t\t\tfor (j=min; j<childrenLen; j++) {\n\t\t\t\t\tif (children[j]!==undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\tif (j===childrenLen-1) childrenLen--;\n\t\t\t\t\t\tif (j===min) min++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child!==dom && child!==f) {\n\t\t\t\tif (f==null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t}\n\t\t\t\telse if (child===f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (let i in keyed) if (keyed[i]!==undefined) recollectNodeTree(keyed[i], false);\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min<=childrenLen) {\n\t\tif ((child = children[childrenLen--])!==undefined) recollectNodeTree(child, false);\n\t}\n}\n\n\n\n/**\n * Recursively recycle (or just unmount) a node and its descendants.\n * @param {import('../dom').PreactElement} node DOM node to start\n *  unmount/removal from\n * @param {boolean} [unmountOnly=false] If `true`, only triggers unmount\n *  lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n\tlet component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t}\n\telse {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node[ATTR_KEY]!=null) applyRef(node[ATTR_KEY].ref, null);\n\n\t\tif (unmountOnly===false || node[ATTR_KEY]==null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n\n/**\n * Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nexport function removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tlet next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n\n/**\n * Apply differences in attributes from a VNode to the given DOM Element.\n * @param {import('../dom').PreactElement} dom Element with attributes to diff `attrs` against\n * @param {object} attrs The desired end-state key-value attribute pairs\n * @param {object} old Current/previous attributes (from previous VNode or\n *  element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tlet name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name]!=null) && old[name]!=null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name!=='children' && name!=='innerHTML' && (!(name in old) || attrs[name]!==(name==='value' || name==='checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n","import { Component } from '../component';\n\n/**\n * Retains a pool of Components for re-use.\n * @type {Component[]}\n * @private\n */\nexport const recyclerComponents = [];\n\n\n/**\n * Create a component. Normalizes differences between PFC's and classful\n * Components.\n * @param {function} Ctor The constructor of the component to create\n * @param {object} props The initial props of the component\n * @param {object} context The initial context of the component\n * @returns {import('../component').Component}\n */\nexport function createComponent(Ctor, props, context) {\n\tlet inst, i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t}\n\telse {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor===Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER, ASYNC_RENDER, ATTR_KEY } from '../constants';\nimport options from '../options';\nimport { extend, applyRef } from '../util';\nimport { enqueueRender } from '../render-queue';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts, recollectNodeTree, removeChildren } from './diff';\nimport { createComponent, recyclerComponents } from './component-recycler';\nimport { removeNode } from '../dom/index';\n\n/**\n * Set a component's `props` and possibly re-render the component\n * @param {import('../component').Component} component The Component to set props on\n * @param {object} props The new props\n * @param {number} renderMode Render options - specifies how to re-render the component\n * @param {object} context The new context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n */\nexport function setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t}\n\t\telse if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context!==component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode!==NO_RENDER) {\n\t\tif (renderMode===SYNC_RENDER || options.syncComponentUpdates!==false || !component.base) {\n\t\t\trenderComponent(component, SYNC_RENDER, mountAll);\n\t\t}\n\t\telse {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tapplyRef(component.__ref, component);\n}\n\n\n\n/**\n * Render a Component, triggering necessary lifecycle events and taking\n * High-Order Components into account.\n * @param {import('../component').Component} component The component to render\n * @param {number} [renderMode] render mode, see constants.js for available options.\n * @param {boolean} [mountAll] Whether or not to immediately mount all components\n * @param {boolean} [isChild] ?\n * @private\n */\nexport function renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tlet props = component.props,\n\t\tstate = component.state,\n\t\tcontext = component.context,\n\t\tpreviousProps = component.prevProps || props,\n\t\tpreviousState = component.prevState || state,\n\t\tpreviousContext = component.prevContext || context,\n\t\tisUpdate = component.base,\n\t\tnextBase = component.nextBase,\n\t\tinitialBase = isUpdate || nextBase,\n\t\tinitialChildComponent = component._component,\n\t\tskip = false,\n\t\tsnapshot = previousContext,\n\t\trendered, inst, cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode!==FORCE_RENDER\n\t\t\t&& component.shouldComponentUpdate\n\t\t\t&& component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t}\n\t\telse if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tlet childComponent = rendered && rendered.nodeName,\n\t\t\ttoUnmount, base;\n\n\t\tif (typeof childComponent==='function') {\n\t\t\t// set up high order component link\n\n\t\t\tlet childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor===childComponent && childProps.key==inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, SYNC_RENDER, context, false);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, NO_RENDER, context, false);\n\t\t\t\trenderComponent(inst, SYNC_RENDER, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t}\n\t\telse {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode===SYNC_RENDER) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base!==initialBase && inst!==initialChildComponent) {\n\t\t\tlet baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base!==baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tlet componentRef = component,\n\t\t\t\tt = component;\n\t\t\twhile ((t=t._parentComponent)) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.push(component);\n\t}\n\telse if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) component._renderCallbacks.pop().call(component);\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n\n\n/**\n * Apply the Component referenced by a VNode to the DOM.\n * @param {import('../dom').PreactElement} dom The DOM node to mutate\n * @param {import('../vnode').VNode} vnode A Component-referencing VNode\n * @param {object} context The current context\n * @param {boolean} mountAll Whether or not to immediately mount all components\n * @returns {import('../dom').PreactElement} The created/mutated element\n * @private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tlet c = dom && dom._component,\n\t\toriginalComponent = c,\n\t\toldDom = dom,\n\t\tisDirectOwner = c && dom._componentConstructor===vnode.nodeName,\n\t\tisOwner = isDirectOwner,\n\t\tprops = getNodeProps(vnode);\n\twhile (c && !isOwner && (c=c._parentComponent)) {\n\t\tisOwner = c.constructor===vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, ASYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\t}\n\telse {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, SYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom!==oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n\n\n/**\n * Remove a component from the DOM and recycle it.\n * @param {import('../component').Component} component The Component instance to unmount\n * @private\n */\nexport function unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tlet base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tlet inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t}\n\telse if (base) {\n\t\tif (base[ATTR_KEY]!=null) applyRef(base[ATTR_KEY].ref, null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tapplyRef(component.__ref, null);\n}\n","import { FORCE_RENDER } from './constants';\nimport { extend } from './util';\nimport { renderComponent } from './vdom/component';\nimport { enqueueRender } from './render-queue';\n/**\n * Base Component class.\n * Provides `setState()` and `forceUpdate()`, which trigger rendering.\n * @typedef {object} Component\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components' getChildContext\n * @public\n *\n * @example\n * class MyFoo extends Component {\n *   render(props, state) {\n *     return <div />;\n *   }\n * }\n */\nexport function Component(props, context) {\n\tthis._dirty = true;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.context = context;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.props = props;\n\n\t/**\n\t * @public\n\t * @type {object}\n\t */\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\n\nextend(Component.prototype, {\n\n\t/**\n\t * Update component state and schedule a re-render.\n\t * @param {object} state A dict of state properties to be shallowly merged\n\t * \tinto the current state, or a function that will produce such a dict. The\n\t * \tfunction is called with the current state and props.\n\t * @param {() => void} callback A function to be called once component state is\n\t * \tupdated\n\t */\n\tsetState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(\n\t\t\textend({}, this.state),\n\t\t\ttypeof state === 'function' ? state(this.state, this.props) : state\n\t\t);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/**\n\t * Immediately perform a synchronous re-render of the component.\n\t * @param {() => void} callback A function to be called after component is\n\t * \tre-rendered.\n\t * @private\n\t */\n\tforceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, FORCE_RENDER);\n\t},\n\n\n\t/**\n\t * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n\t * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n\t * @param {object} props Props (eg: JSX attributes) received from parent\n\t * \telement/component\n\t * @param {object} state The component's current state\n\t * @param {object} context Context object, as returned by the nearest\n\t *  ancestor's `getChildContext()`\n\t * @returns {import('./vnode').VNode | void}\n\t */\n\trender() {}\n\n});\n","import { diff } from './vdom/diff';\n\n/**\n * Render JSX into a `parent` Element.\n * @param {import('./vnode').VNode} vnode A (JSX) VNode to render\n * @param {import('./dom').PreactElement} parent DOM element to render into\n * @param {import('./dom').PreactElement} [merge] Attempt to re-use an existing DOM tree rooted at\n *  `merge`\n * @public\n *\n * @example\n * // render a div into <body>:\n * render(<div id=\"hello\">hello!</div>, document.body);\n *\n * @example\n * // render a \"Thing\" component into #foo:\n * const Thing = ({ name }) => <span>{ name }</span>;\n * render(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nexport function render(vnode, parent, merge) {\n\treturn diff(merge, vnode, {}, false, parent, false);\n}\n","import { h, h as createElement } from './h';\nimport { cloneElement } from './clone-element';\nimport { Component } from './component';\nimport { render } from './render';\nimport { rerender } from './render-queue';\nimport options from './options';\n\nfunction createRef() {\n\treturn {};\n}\n\nexport default {\n\th,\n\tcreateElement,\n\tcloneElement,\n\tcreateRef,\n\tComponent,\n\trender,\n\trerender,\n\toptions\n};\n\nexport {\n\th,\n\tcreateElement,\n\tcloneElement,\n\tcreateRef,\n\tComponent,\n\trender,\n\trerender,\n\toptions\n};\n","!function(n,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"preact\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"preact\"],t):t((n=n||self).preactContext={},n.preact)}(this,function(n,t){\"use strict\";var i={register:function(n){console.warn(\"Consumer used without a Provider\")},unregister:function(n){},val:function(n){}};function r(n){var t=n.children;return{child:1===t.length?t[0]:null,children:t}}var e,u=window&&window.__extends||(e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])})(n,t)},function(n,t){function i(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function o(n){return r(n).child||\"render\"in n&&n.render}var c=1073741823,f=function(){return c},s=0;function a(n,e){var a=\"_preactContextProvider-\"+s++;return{Provider:function(n){function i(t){var i=n.call(this,t)||this;return i.t=function(n,t){var i=[],r=n,e=function(n){return 0|t(r,n)};return{register:function(n){i.push(n),n(r,e(r))},unregister:function(n){i=i.filter(function(t){return t!==n})},val:function(n){if(void 0===n||n==r)return r;var t=e(n);return r=n,i.forEach(function(i){return i(n,t)}),r}}}(t.value,e||f),i}return u(i,n),i.prototype.getChildContext=function(){var n;return(n={})[a]=this.t,n},i.prototype.componentDidUpdate=function(){this.t.val(this.props.value)},i.prototype.render=function(){var n=r(this.props),i=n.child,e=n.children;return i||t.h(\"span\",null,e)},i}(t.Component),Consumer:function(t){function r(i,r){var e=t.call(this,i,r)||this;return e.i=function(n,t){var i=e.props.unstable_observedBits,r=void 0===i||null===i?c:i;0!=((r|=0)&t)&&e.setState({value:n})},e.state={value:e.u().val()||n},e}return u(r,t),r.prototype.componentDidMount=function(){this.u().register(this.i)},r.prototype.shouldComponentUpdate=function(n,t){return this.state.value!==t.value||o(this.props)!==o(n)},r.prototype.componentWillUnmount=function(){this.u().unregister(this.i)},r.prototype.componentDidUpdate=function(n,t,r){var e=r[a];e!==this.context[a]&&((e||i).unregister(this.i),this.componentDidMount())},r.prototype.render=function(){var n=\"render\"in this.props&&this.props.render,t=o(this.props);if(n&&n!==t&&console.warn(\"Both children and a render function are defined. Children will be used\"),\"function\"==typeof t)return t(this.state.value);console.warn(\"Consumer is expecting a function as one and only child but didn't find any\")},r.prototype.u=function(){return this.context[a]||i},r}(t.Component)}}var d=a;n.default=a,n.createContext=d,Object.defineProperty(n,\"__esModule\",{value:!0})});","/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    return uri;\r\n};\r\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || (typeof location !== 'undefined' && location);\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","\nmodule.exports = isBuf;\n\nvar withNativeBuffer = typeof Buffer === 'function' && typeof Buffer.isBuffer === 'function';\nvar withNativeArrayBuffer = typeof ArrayBuffer === 'function';\n\nvar isView = function (obj) {\n  return typeof ArrayBuffer.isView === 'function' ? ArrayBuffer.isView(obj) : (obj.buffer instanceof ArrayBuffer);\n};\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (withNativeBuffer && Buffer.isBuffer(obj)) ||\n          (withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj)));\n}\n","/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' || (typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]');\nvar withNativeFile = typeof File === 'function' || (typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\nvar ERROR_PACKET = exports.ERROR + '\"encode error\"';\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  } else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    var payload = tryStringify(obj.data);\n    if (payload !== false) {\n      str += payload;\n    } else {\n      return ERROR_PACKET;\n    }\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\nfunction tryStringify(str) {\n  try {\n    return JSON.stringify(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an encoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  } else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  } else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) {\n    return error('unknown packet type ' + p.type);\n  }\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var buf = '';\n    while (str.charAt(++i) !== '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      p.nsp += c;\n      if (i === str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i === str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    var payload = tryParse(str.substr(i));\n    var isPayloadValid = payload !== false && (p.type === exports.ERROR || isArray(payload));\n    if (isPayloadValid) {\n      p.data = payload;\n    } else {\n      return error('invalid payload');\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(msg) {\n  return {\n    type: exports.ERROR,\n    data: 'parser error: ' + msg\n  };\n}\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","// browser shim for xmlhttprequest module\n\nvar hasCORS = require('has-cors');\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new self[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n","\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' ||\n                        typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof File === 'function' ||\n                        typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof Buffer === 'function' && Buffer.isBuffer && Buffer.isBuffer(obj)) ||\n    (typeof ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n    (withNativeBlob && obj instanceof Blob) ||\n    (withNativeFile && obj instanceof File)\n  ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n","module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n\nvar stringFromCharCode = String.fromCharCode;\n\n// Taken from https://mths.be/punycode\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\tvar value;\n\tvar extra;\n\twhile (counter < length) {\n\t\tvalue = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// high surrogate, and there is a next character\n\t\t\textra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n// Taken from https://mths.be/punycode\nfunction ucs2encode(array) {\n\tvar length = array.length;\n\tvar index = -1;\n\tvar value;\n\tvar output = '';\n\twhile (++index < length) {\n\t\tvalue = array[index];\n\t\tif (value > 0xFFFF) {\n\t\t\tvalue -= 0x10000;\n\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t}\n\t\toutput += stringFromCharCode(value);\n\t}\n\treturn output;\n}\n\nfunction checkScalarValue(codePoint, strict) {\n\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\tif (strict) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n/*--------------------------------------------------------------------------*/\n\nfunction createByte(codePoint, shift) {\n\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n}\n\nfunction encodeCodePoint(codePoint, strict) {\n\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\treturn stringFromCharCode(codePoint);\n\t}\n\tvar symbol = '';\n\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t}\n\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\tcodePoint = 0xFFFD;\n\t\t}\n\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\tsymbol += createByte(codePoint, 12);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\treturn symbol;\n}\n\nfunction utf8encode(string, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tvar codePoints = ucs2decode(string);\n\tvar length = codePoints.length;\n\tvar index = -1;\n\tvar codePoint;\n\tvar byteString = '';\n\twhile (++index < length) {\n\t\tcodePoint = codePoints[index];\n\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t}\n\treturn byteString;\n}\n\n/*--------------------------------------------------------------------------*/\n\nfunction readContinuationByte() {\n\tif (byteIndex >= byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\tif ((continuationByte & 0xC0) == 0x80) {\n\t\treturn continuationByte & 0x3F;\n\t}\n\n\t// If we end up here, its not a continuation byte\n\tthrow Error('Invalid continuation byte');\n}\n\nfunction decodeSymbol(strict) {\n\tvar byte1;\n\tvar byte2;\n\tvar byte3;\n\tvar byte4;\n\tvar codePoint;\n\n\tif (byteIndex > byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tif (byteIndex == byteCount) {\n\t\treturn false;\n\t}\n\n\t// Read first byte\n\tbyte1 = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\t// 1-byte sequence (no continuation bytes)\n\tif ((byte1 & 0x80) == 0) {\n\t\treturn byte1;\n\t}\n\n\t// 2-byte sequence\n\tif ((byte1 & 0xE0) == 0xC0) {\n\t\tbyte2 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\tif (codePoint >= 0x80) {\n\t\t\treturn codePoint;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 3-byte sequence (may include unpaired surrogates)\n\tif ((byte1 & 0xF0) == 0xE0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\tif (codePoint >= 0x0800) {\n\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 4-byte sequence\n\tif ((byte1 & 0xF8) == 0xF0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tbyte4 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t(byte3 << 0x06) | byte4;\n\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\treturn codePoint;\n\t\t}\n\t}\n\n\tthrow Error('Invalid UTF-8 detected');\n}\n\nvar byteArray;\nvar byteCount;\nvar byteIndex;\nfunction utf8decode(byteString, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tbyteArray = ucs2decode(byteString);\n\tbyteCount = byteArray.length;\n\tbyteIndex = 0;\n\tvar codePoints = [];\n\tvar tmp;\n\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\tcodePoints.push(tmp);\n\t}\n\treturn ucs2encode(codePoints);\n}\n\nmodule.exports = {\n\tversion: '2.1.2',\n\tencode: utf8encode,\n\tdecode: utf8decode\n};\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n","/**\r\n * Create a blob builder even when vendor prefixes exist\r\n */\r\n\r\nvar BlobBuilder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\r\n  typeof WebKitBlobBuilder !== 'undefined' ? WebKitBlobBuilder :\r\n  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\r\n  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : \r\n  false;\r\n\r\n/**\r\n * Check if Blob constructor is supported\r\n */\r\n\r\nvar blobSupported = (function() {\r\n  try {\r\n    var a = new Blob(['hi']);\r\n    return a.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if Blob constructor supports ArrayBufferViews\r\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n */\r\n\r\nvar blobSupportsArrayBufferView = blobSupported && (function() {\r\n  try {\r\n    var b = new Blob([new Uint8Array([1,2])]);\r\n    return b.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if BlobBuilder is supported\r\n */\r\n\r\nvar blobBuilderSupported = BlobBuilder\r\n  && BlobBuilder.prototype.append\r\n  && BlobBuilder.prototype.getBlob;\r\n\r\n/**\r\n * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n * Used by BlobBuilder constructor and old browsers that didn't\r\n * support it in the Blob constructor.\r\n */\r\n\r\nfunction mapArrayBufferViews(ary) {\r\n  return ary.map(function(chunk) {\r\n    if (chunk.buffer instanceof ArrayBuffer) {\r\n      var buf = chunk.buffer;\r\n\r\n      // if this is a subarray, make a copy so we only\r\n      // include the subarray region from the underlying buffer\r\n      if (chunk.byteLength !== buf.byteLength) {\r\n        var copy = new Uint8Array(chunk.byteLength);\r\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\r\n        buf = copy.buffer;\r\n      }\r\n\r\n      return buf;\r\n    }\r\n\r\n    return chunk;\r\n  });\r\n}\r\n\r\nfunction BlobBuilderConstructor(ary, options) {\r\n  options = options || {};\r\n\r\n  var bb = new BlobBuilder();\r\n  mapArrayBufferViews(ary).forEach(function(part) {\r\n    bb.append(part);\r\n  });\r\n\r\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\r\n};\r\n\r\nfunction BlobConstructor(ary, options) {\r\n  return new Blob(mapArrayBufferViews(ary), options || {});\r\n};\r\n\r\nif (typeof Blob !== 'undefined') {\r\n  BlobBuilderConstructor.prototype = Blob.prototype;\r\n  BlobConstructor.prototype = Blob.prototype;\r\n}\r\n\r\nmodule.exports = (function() {\r\n  if (blobSupported) {\r\n    return blobSupportsArrayBufferView ? Blob : BlobConstructor;\r\n  } else if (blobBuilderSupported) {\r\n    return BlobBuilderConstructor;\r\n  } else {\r\n    return undefined;\r\n  }\r\n})();\r\n","/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary2');\nvar sliceBuffer = require('arraybuffer.slice');\nvar after = require('after');\nvar utf8 = require('./utf8');\n\nvar base64encoder;\nif (typeof ArrayBuffer !== 'undefined') {\n  base64encoder = require('base64-arraybuffer');\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if (typeof utf8encode === 'function') {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (typeof Blob !== 'undefined' && data instanceof Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    exports.encodePacket({ type: packet.type, data: fr.result }, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (typeof Blob !== 'undefined' && packet.data instanceof Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data === 'string') {\n    if (data.charAt(0) === 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data, { strict: false });\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data !== 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data === '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = '', n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (chr !== ':') {\n      length += chr;\n      continue;\n    }\n\n    if (length === '' || (length != (n = Number(length)))) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    msg = data.substr(i + 1, n);\n\n    if (length != msg.length) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    if (msg.length) {\n      packet = exports.decodePacket(msg, binaryType, false);\n\n      if (err.type === packet.type && err.data === packet.data) {\n        // parser error in individual packet - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      var ret = callback(packet, i + n, l);\n      if (false === ret) return;\n    }\n\n    // advance cursor\n    i += n;\n    length = '';\n  }\n\n  if (length !== '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] === 255) break;\n\n      // 310 = char length of Number.MAX_VALUE\n      if (msgLength.length > 310) {\n        return callback(err, 0, 1);\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n","/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // results of ReactNative environment detection\n  this.isReactNative = opts.isReactNative;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n","/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n","\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n","/* global attachEvent */\n\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n  this.extraHeaders = opts.extraHeaders;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = (typeof location !== 'undefined' && opts.hostname !== location.hostname) ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 2) {\n          try {\n            var contentType = xhr.getResponseHeader('Content-Type');\n            if (self.supportsBinary && contentType === 'application/octet-stream') {\n              xhr.responseType = 'arraybuffer';\n            }\n          } catch (e) {}\n        }\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (typeof document !== 'undefined') {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (typeof document !== 'undefined') {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type');\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      data = this.xhr.responseText;\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return typeof XDomainRequest !== 'undefined' && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== 'undefined') {\n  if (typeof attachEvent === 'function') {\n    attachEvent('onunload', unloadHandler);\n  } else if (typeof addEventListener === 'function') {\n    var terminationEvent = 'onpagehide' in self ? 'pagehide' : 'unload';\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n","/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * Until https://github.com/tc39/proposal-global is shipped.\n */\nfunction glob () {\n  return typeof self !== 'undefined' ? self\n      : typeof window !== 'undefined' ? window\n      : typeof global !== 'undefined' ? global : {};\n}\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    var global = glob();\n    callbacks = global.___eio = (global.___eio || []);\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (typeof addEventListener === 'function') {\n    addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\n\nvar BrowserWebSocket, NodeWebSocket;\n\nif (typeof WebSocket !== 'undefined') {\n  BrowserWebSocket = WebSocket;\n} else if (typeof self !== 'undefined') {\n  BrowserWebSocket = self.WebSocket || self.MozWebSocket;\n} else {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocketImpl = BrowserWebSocket || NodeWebSocket;\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  this.protocols = opts.protocols;\n  if (!this.usingBrowserWebSocket) {\n    WebSocketImpl = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = this.protocols;\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws =\n      this.usingBrowserWebSocket && !this.isReactNative\n        ? protocols\n          ? new WebSocketImpl(uri, protocols)\n          : new WebSocketImpl(uri)\n        : new WebSocketImpl(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocketImpl && !('__initialize' in WebSocketImpl && this.name === WS.prototype.name);\n};\n","/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (typeof location !== 'undefined' && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (typeof location !== 'undefined' ? location.hostname : 'localhost');\n  this.port = opts.port || (typeof location !== 'undefined' && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.transportOptions = opts.transportOptions || {};\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // detect ReactNative environment\n  this.isReactNative = (typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative');\n\n  // other options for Node.js or ReactNative client\n  if (typeof self === 'undefined' || this.isReactNative) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // per-transport options\n  var options = this.transportOptions[name] || {};\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    query: query,\n    socket: this,\n    agent: options.agent || this.agent,\n    hostname: options.hostname || this.hostname,\n    port: options.port || this.port,\n    secure: options.secure || this.secure,\n    path: options.path || this.path,\n    forceJSONP: options.forceJSONP || this.forceJSONP,\n    jsonp: options.jsonp || this.jsonp,\n    forceBase64: options.forceBase64 || this.forceBase64,\n    enablesXDR: options.enablesXDR || this.enablesXDR,\n    timestampRequests: options.timestampRequests || this.timestampRequests,\n    timestampParam: options.timestampParam || this.timestampParam,\n    policyPort: options.policyPort || this.policyPort,\n    pfx: options.pfx || this.pfx,\n    key: options.key || this.key,\n    passphrase: options.passphrase || this.passphrase,\n    cert: options.cert || this.cert,\n    ca: options.ca || this.ca,\n    ciphers: options.ciphers || this.ciphers,\n    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n    extraHeaders: options.extraHeaders || this.extraHeaders,\n    forceNode: options.forceNode || this.forceNode,\n    localAddress: options.localAddress || this.localAddress,\n    requestTimeout: options.requestTimeout || this.requestTimeout,\n    protocols: options.protocols || void (0),\n    isReactNative: this.isReactNative\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(JSON.parse(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n","\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n","module.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n","\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n","/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n","\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar parseqs = require('parseqs');\nvar hasBin = require('has-binary2');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  this.flags = {};\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var packet = {\n    type: (this.flags.binary !== undefined ? this.flags.binary : hasBin(args)) ? parser.BINARY_EVENT : parser.EVENT,\n    data: args\n  };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  this.flags = {};\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n      debug('sending connect packet with query %s', query);\n      this.packet({type: parser.CONNECT, query: query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  var sameNamespace = packet.nsp === this.nsp;\n  var rootNamespaceError = packet.type === parser.ERROR && packet.nsp === '/';\n\n  if (!sameNamespace && !rootNamespaceError) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    self.packet({\n      type: hasBin(args) ? parser.BINARY_ACK : parser.ACK,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags.compress = compress;\n  return this;\n};\n\n/**\n * Sets the binary flag\n *\n * @param {Boolean} whether the emitted data contains binary\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.binary = function (binary) {\n  this.flags.binary = binary;\n  return this;\n};\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  var _parser = opts.parser || parser;\n  this.encoder = new _parser.Encoder();\n  this.decoder = new _parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.generateId(nsp);\n    }\n  }\n};\n\n/**\n * generate `socket.id` for the given `nsp`\n *\n * @param {String} nsp\n * @return {String}\n * @api private\n */\n\nManager.prototype.generateId = function (nsp) {\n  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.generateId(nsp);\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting event is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n","\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  }\n  return io.socket(parsed.path, opts);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n","export default function dispatch(node, type, detail) {\n  detail = detail || {};\n  var document = node.ownerDocument, event = document.defaultView.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, {detail: detail});\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(type, false, false);\n    event.detail = detail;\n  }\n  node.dispatchEvent(event);\n}\n","// TODO https://twitter.com/mbostock/status/702737065121742848\nexport function isarray(value) {\n  return Array.isArray(value)\n      || value instanceof Int8Array\n      || value instanceof Int16Array\n      || value instanceof Int32Array\n      || value instanceof Uint8Array\n      || value instanceof Uint8ClampedArray\n      || value instanceof Uint16Array\n      || value instanceof Uint32Array\n      || value instanceof Float32Array\n      || value instanceof Float64Array;\n}\n\n// Non-integer keys in arrays, e.g. [1, 2, 0.5: \"value\"].\nexport function isindex(key) {\n  return key === (key | 0) + \"\";\n}\n","export default function inspectName(name) {\n  const n = document.createElement(\"span\");\n  n.className = \"observablehq--cellname\";\n  n.textContent = `${name} = `;\n  return n;\n}\n","const symbolToString = Symbol.prototype.toString;\n\n// Symbols do not coerce to strings; they must be explicitly converted.\nexport default function formatSymbol(symbol) {\n  return symbolToString.call(symbol);\n}\n","const {getOwnPropertySymbols, prototype: {hasOwnProperty}} = Object;\nconst {toStringTag} = Symbol;\n\nexport const FORBIDDEN = {};\n\nexport const symbolsof = getOwnPropertySymbols;\n\nexport function isown(object, key) {\n  return hasOwnProperty.call(object, key);\n}\n\nexport function tagof(object) {\n  return object[toStringTag]\n      || (object.constructor && object.constructor.name)\n      || \"Object\";\n}\n\nexport function valueof(object, key) {\n  try {\n    const value = object[key];\n    if (value) value.constructor; // Test for SecurityError.\n    return value;\n  } catch (ignore) {\n    return FORBIDDEN;\n  }\n}\n","const SYMBOLS = [\n  { symbol: \"@@__IMMUTABLE_INDEXED__@@\", name: \"Indexed\", modifier: true },\n  { symbol: \"@@__IMMUTABLE_KEYED__@@\", name: \"Keyed\", modifier: true },\n  { symbol: \"@@__IMMUTABLE_LIST__@@\", name: \"List\", arrayish: true },\n  { symbol: \"@@__IMMUTABLE_MAP__@@\", name: \"Map\" },\n  {\n    symbol: \"@@__IMMUTABLE_ORDERED__@@\",\n    name: \"Ordered\",\n    modifier: true,\n    prefix: true\n  },\n  { symbol: \"@@__IMMUTABLE_RECORD__@@\", name: \"Record\" },\n  {\n    symbol: \"@@__IMMUTABLE_SET__@@\",\n    name: \"Set\",\n    arrayish: true,\n    setish: true\n  },\n  { symbol: \"@@__IMMUTABLE_STACK__@@\", name: \"Stack\", arrayish: true }\n];\n\nexport function immutableName(obj) {\n  try {\n    let symbols = SYMBOLS.filter(({ symbol }) => obj[symbol] === true);\n    if (!symbols.length) return;\n\n    const name = symbols.find(s => !s.modifier);\n    const prefix =\n      name.name === \"Map\" && symbols.find(s => s.modifier && s.prefix);\n\n    const arrayish = symbols.some(s => s.arrayish);\n    const setish = symbols.some(s => s.setish);\n\n    return {\n      name: `${prefix ? prefix.name : \"\"}${name.name}`,\n      symbols,\n      arrayish: arrayish && !setish,\n      setish\n    };\n  } catch (e) {\n    return null;\n  }\n}\n","import dispatch from \"./dispatch.js\";\nimport inspectName from \"./inspectName.js\";\nimport {isarray, isindex} from \"./array.js\";\nimport inspectCollapsed from \"./collapsed.js\";\nimport formatSymbol from \"./formatSymbol.js\";\nimport {inspect, replace} from \"./inspect.js\";\nimport {isown, symbolsof, tagof, valueof} from \"./object.js\";\nimport {immutableName} from \"./immutable.js\";\n\nexport default function inspectExpanded(object, _, name) {\n  let arrayish = isarray(object);\n  let tag, fields, next, n;\n\n  if (object instanceof Map) {\n    tag = `Map(${object.size})`;\n    fields = iterateMap;\n  } else if (object instanceof Set) {\n    tag = `Set(${object.size})`;\n    fields = iterateSet;\n  } else if (arrayish) {\n    tag = `${object.constructor.name}(${object.length})`;\n    fields = iterateArray;\n  } else if ((n = immutableName(object))) {\n    tag = `Immutable.${n.name}${n.name === 'Record' ? '' : `(${object.size})`}`;\n    arrayish = n.arrayish;\n    fields = n.arrayish ? iterateImArray : n.setish ? iterateImSet : iterateImObject;\n  } else {\n    tag = tagof(object);\n    fields = iterateObject;\n  }\n\n  const span = document.createElement(\"span\");\n  span.className = \"observablehq--expanded\";\n  if (name) {\n    span.appendChild(inspectName(name));\n  }\n  const a = span.appendChild(document.createElement(\"a\"));\n  a.innerHTML =`<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M4 7L0 1h8z' fill='currentColor' />\n  </svg>`;\n  a.appendChild(document.createTextNode(`${tag}${arrayish ? \" [\" : \" {\"}`));\n  a.addEventListener(\"mouseup\", function(event) {\n    event.stopPropagation();\n    replace(span, inspectCollapsed(object, null, name));\n  });\n\n  fields = fields(object);\n  for (let i = 0; !(next = fields.next()).done && i < 20; ++i) {\n    span.appendChild(next.value);\n  }\n\n  if (!next.done) {\n    const a = span.appendChild(document.createElement(\"a\"));\n    a.className = \"observablehq--field\";\n    a.style.display = \"block\";\n    a.appendChild(document.createTextNode(`   more`));\n    a.addEventListener(\"mouseup\", function(event) {\n      event.stopPropagation();\n      span.insertBefore(next.value, span.lastChild.previousSibling);\n      for (let i = 0; !(next = fields.next()).done && i < 19; ++i) {\n        span.insertBefore(next.value, span.lastChild.previousSibling);\n      }\n      if (next.done) span.removeChild(span.lastChild.previousSibling);\n      dispatch(span, \"load\");\n    });\n  }\n\n  span.appendChild(document.createTextNode(arrayish ? \"]\" : \"}\"));\n\n  return span;\n}\n\nfunction* iterateMap(map) {\n  for (const [key, value] of map) {\n    yield formatMapField(key, value);\n  }\n  yield* iterateObject(map);\n}\n\nfunction* iterateSet(set) {\n  for (const value of set) {\n    yield formatSetField(value);\n  }\n  yield* iterateObject(set);\n}\n\nfunction* iterateImSet(set) {\n  for (const value of set) {\n    yield formatSetField(value);\n  }\n}\n\nfunction* iterateArray(array) {\n  for (let i = 0, n = array.length; i < n; ++i) {\n    if (i in array) {\n      yield formatField(i, valueof(array, i), \"observablehq--index\");\n    }\n  }\n  for (const key in array) {\n    if (!isindex(key) && isown(array, key)) {\n      yield formatField(key, valueof(array, key), \"observablehq--key\");\n    }\n  }\n  for (const symbol of symbolsof(array)) {\n    yield formatField(formatSymbol(symbol), valueof(array, symbol), \"observablehq--symbol\");\n  }\n}\n\nfunction* iterateImArray(array) {\n  let i1 = 0;\n  for (const n = array.size; i1 < n; ++i1) {\n    yield formatField(i1, array.get(i1), true);\n  }\n}\n\nfunction* iterateObject(object) {\n  for (const key in object) {\n    if (isown(object, key)) {\n      yield formatField(key, valueof(object, key), \"observablehq--key\");\n    }\n  }\n  for (const symbol of symbolsof(object)) {\n    yield formatField(formatSymbol(symbol), valueof(object, symbol), \"observablehq--symbol\");\n  }\n}\n\nfunction* iterateImObject(object) {\n  for (const [key, value] of object) {\n    yield formatField(key, value, \"observablehq--key\");\n  }\n}\n\nfunction formatField(key, value, className) {\n  const item = document.createElement(\"div\");\n  const span = item.appendChild(document.createElement(\"span\"));\n  item.className = \"observablehq--field\";\n  span.className = className;\n  span.textContent = `  ${key}`;\n  item.appendChild(document.createTextNode(\": \"));\n  item.appendChild(inspect(value));\n  return item;\n}\n\nfunction formatMapField(key, value) {\n  const item = document.createElement(\"div\");\n  item.className = \"observablehq--field\";\n  item.appendChild(document.createTextNode(\"  \"));\n  item.appendChild(inspect(key));\n  item.appendChild(document.createTextNode(\" => \"));\n  item.appendChild(inspect(value));\n  return item;\n}\n\nfunction formatSetField(value) {\n  const item = document.createElement(\"div\");\n  item.className = \"observablehq--field\";\n  item.appendChild(document.createTextNode(\"  \"));\n  item.appendChild(inspect(value));\n  return item;\n}\n","import {isarray, isindex} from \"./array.js\";\nimport inspectExpanded from \"./expanded.js\";\nimport formatSymbol from \"./formatSymbol.js\";\nimport inspectName from \"./inspectName.js\";\nimport {inspect, replace} from \"./inspect.js\";\nimport {isown, symbolsof, tagof, valueof} from \"./object.js\";\nimport {immutableName} from \"./immutable.js\";\n\nfunction hasSelection(elem) {\n  const sel = window.getSelection();\n  return (\n    sel.type === \"Range\" &&\n    (sel.containsNode(elem, true) ||\n      sel.anchorNode.isSelfOrDescendant(elem) ||\n      sel.focusNode.isSelfOrDescendant(elem))\n  );\n}\n\nexport default function inspectCollapsed(object, shallow, name) {\n  let arrayish = isarray(object);\n  let tag, fields, next, n;\n\n  if (object instanceof Map) {\n    tag = `Map(${object.size})`;\n    fields = iterateMap;\n  } else if (object instanceof Set) {\n    tag = `Set(${object.size})`;\n    fields = iterateSet;\n  } else if (arrayish) {\n    tag = `${object.constructor.name}(${object.length})`;\n    fields = iterateArray;\n  } else if ((n = immutableName(object))) {\n    tag = `Immutable.${n.name}${n.name === 'Record' ? '' : `(${object.size})`}`;\n    arrayish = n.arrayish;\n    fields = n.arrayish ? iterateImArray : n.setish ? iterateImSet : iterateImObject;\n  } else {\n    tag = tagof(object);\n    fields = iterateObject;\n  }\n\n  if (shallow) {\n    const span = document.createElement(\"span\");\n    span.className = \"observablehq--shallow\";\n    if (name) {\n      span.appendChild(inspectName(name));\n    }\n    span.appendChild(document.createTextNode(tag));\n    span.addEventListener(\"mouseup\", function(event) {\n      if (hasSelection(span)) return;\n      event.stopPropagation();\n      replace(span, inspectCollapsed(object));\n    });\n    return span;\n  }\n\n  const span = document.createElement(\"span\");\n  span.className = \"observablehq--collapsed\";\n  if (name) {\n    span.appendChild(inspectName(name));\n  }\n  const a = span.appendChild(document.createElement(\"a\"));\n  a.innerHTML = `<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M7 4L1 8V0z' fill='currentColor' />\n  </svg>`;\n  a.appendChild(document.createTextNode(`${tag}${arrayish ? \" [\" : \" {\"}`));\n  span.addEventListener(\"mouseup\", function(event) {\n    if (hasSelection(span)) return;\n    event.stopPropagation();\n    replace(span, inspectExpanded(object, null, name));\n  }, true);\n\n  fields = fields(object);\n  for (let i = 0; !(next = fields.next()).done && i < 20; ++i) {\n    if (i > 0) span.appendChild(document.createTextNode(\", \"));\n    span.appendChild(next.value);\n  }\n\n  if (!next.done) span.appendChild(document.createTextNode(\", \"));\n  span.appendChild(document.createTextNode(arrayish ? \"]\" : \"}\"));\n\n  return span;\n}\n\nfunction* iterateMap(map) {\n  for (const [key, value] of map) {\n    yield formatMapField(key, value);\n  }\n  yield* iterateObject(map);\n}\n\nfunction* iterateSet(set) {\n  for (const value of set) {\n    yield inspect(value, true);\n  }\n  yield* iterateObject(set);\n}\n\nfunction* iterateImSet(set) {\n  for (const value of set) {\n    yield inspect(value, true);\n  }\n}\n\nfunction* iterateImArray(array) {\n  let i0 = -1, i1 = 0;\n  for (const n = array.size; i1 < n; ++i1) {\n    if (i1 > i0 + 1) yield formatEmpty(i1 - i0 - 1);\n    yield inspect(array.get(i1), true);\n    i0 = i1;\n  }\n  if (i1 > i0 + 1) yield formatEmpty(i1 - i0 - 1);\n}\n\nfunction* iterateArray(array) {\n  let i0 = -1, i1 = 0;\n  for (const n = array.length; i1 < n; ++i1) {\n    if (i1 in array) {\n      if (i1 > i0 + 1) yield formatEmpty(i1 - i0 - 1);\n      yield inspect(valueof(array, i1), true);\n      i0 = i1;\n    }\n  }\n  if (i1 > i0 + 1) yield formatEmpty(i1 - i0 - 1);\n  for (const key in array) {\n    if (!isindex(key) && isown(array, key)) {\n      yield formatField(key, valueof(array, key), \"observablehq--key\");\n    }\n  }\n  for (const symbol of symbolsof(array)) {\n    yield formatField(formatSymbol(symbol), valueof(array, symbol), \"observablehq--symbol\");\n  }\n}\n\nfunction* iterateObject(object) {\n  for (const key in object) {\n    if (isown(object, key)) {\n      yield formatField(key, valueof(object, key), \"observablehq--key\");\n    }\n  }\n  for (const symbol of symbolsof(object)) {\n    yield formatField(formatSymbol(symbol), valueof(object, symbol), \"observablehq--symbol\");\n  }\n}\n\nfunction* iterateImObject(object) {\n  for (const [key, value] of object) {\n    yield formatField(key, value, \"observablehq--key\");\n  }\n}\n\nfunction formatEmpty(e) {\n  const span = document.createElement(\"span\");\n  span.className = \"observablehq--empty\";\n  span.textContent = e === 1 ? \"empty\" : `empty  ${e}`;\n  return span;\n}\n\nfunction formatField(key, value, className) {\n  const fragment = document.createDocumentFragment();\n  const span = fragment.appendChild(document.createElement(\"span\"));\n  span.className = className;\n  span.textContent = key;\n  fragment.appendChild(document.createTextNode(\": \"));\n  fragment.appendChild(inspect(value, true));\n  return fragment;\n}\n\nfunction formatMapField(key, value) {\n  const fragment = document.createDocumentFragment();\n  fragment.appendChild(inspect(key, true));\n  fragment.appendChild(document.createTextNode(\" => \"));\n  fragment.appendChild(inspect(value, true));\n  return fragment;\n}\n","function pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction isUTCMidnight(date) {\n  return date.getUTCMilliseconds() === 0\n      && date.getUTCSeconds() === 0\n      && date.getUTCMinutes() === 0\n      && date.getUTCHours() === 0;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nexport default function formatDate(date) {\n  return isNaN(date)\n    ? \"Invalid Date\"\n    : isUTCMidnight(date)\n      ? formatYear(date.getUTCFullYear()) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      : formatYear(date.getFullYear()) + \"-\" + pad(date.getMonth() + 1, 2) + \"-\" + pad(date.getDate(), 2)\n        + \"T\" + pad(date.getHours(), 2) + \":\" + pad(date.getMinutes(), 2)\n        + (date.getMilliseconds() ? \":\" + pad(date.getSeconds(), 2) + \".\" + pad(date.getMilliseconds(), 3)\n          : date.getSeconds() ? \":\" + pad(date.getSeconds(), 2)\n          : \"\");\n}\n","var errorToString = Error.prototype.toString;\n\nexport default function formatError(value) {\n  return value.stack || errorToString.call(value);\n}\n","var regExpToString = RegExp.prototype.toString;\n\nexport default function formatRegExp(value) {\n  return regExpToString.call(value);\n}\n","import inspectName from \"./inspectName.js\";\nimport {inspect, replace} from \"./inspect.js\";\n\n/* eslint-disable no-control-regex */\nconst NEWLINE_LIMIT = 20;\n\nexport default function formatString(string, shallow, expanded, name) {\n  if (shallow === false) {\n    // String has fewer escapes displayed with double quotes\n    if (count(string, /[\"\\n]/g) <= count(string, /`|\\${/g)) {\n      const span = document.createElement(\"span\");\n      if (name) span.appendChild(inspectName(name));\n      const textValue = span.appendChild(document.createElement(\"span\"));\n      textValue.className = \"observablehq--string\";\n      textValue.textContent = JSON.stringify(string);\n      return span;\n    }\n    const lines = string.split(\"\\n\");\n    if (lines.length > NEWLINE_LIMIT && !expanded) {\n      const div = document.createElement(\"div\");\n      if (name) div.appendChild(inspectName(name));\n      const textValue = div.appendChild(document.createElement(\"span\"));\n      textValue.className = \"observablehq--string\";\n      textValue.textContent = \"`\" + templatify(lines.slice(0, NEWLINE_LIMIT).join(\"\\n\"));\n      const splitter = div.appendChild(document.createElement(\"span\"));\n      const truncatedCount = lines.length - NEWLINE_LIMIT;\n      splitter.textContent = `Show ${truncatedCount} truncated line${truncatedCount > 1 ? \"s\": \"\"}`; splitter.className = \"observablehq--string-expand\";\n      splitter.addEventListener(\"mouseup\", function (event) {\n        event.stopPropagation();\n        replace(div, inspect(string, shallow, true, name));\n      });\n      return div;\n    }\n    const span = document.createElement(\"span\");\n    if (name) span.appendChild(inspectName(name));\n    const textValue = span.appendChild(document.createElement(\"span\"));\n    textValue.className = `observablehq--string${expanded ? \" observablehq--expanded\" : \"\"}`;\n    textValue.textContent = \"`\" + templatify(string) + \"`\";\n    return span;\n  }\n\n  const span = document.createElement(\"span\");\n  if (name) span.appendChild(inspectName(name));\n  const textValue = span.appendChild(document.createElement(\"span\"));\n  textValue.className = \"observablehq--string\";\n  textValue.textContent = JSON.stringify(string.length > 100 ?\n    `${string.slice(0, 50)}${string.slice(-49)}` : string);\n  return span;\n}\n\nfunction templatify(string) {\n  return string.replace(/[\\\\`\\x00-\\x09\\x0b-\\x19]|\\${/g, templatifyChar);\n}\n\nfunction templatifyChar(char) {\n  var code = char.charCodeAt(0);\n  switch (code) {\n    case 0x8: return \"\\\\b\";\n    case 0x9: return \"\\\\t\";\n    case 0xb: return \"\\\\v\";\n    case 0xc: return \"\\\\f\";\n    case 0xd: return \"\\\\r\";\n  }\n  return code < 0x10 ? \"\\\\x0\" + code.toString(16)\n      : code < 0x20 ? \"\\\\x\" + code.toString(16)\n      : \"\\\\\" + char;\n}\n\nfunction count(string, re) {\n  var n = 0;\n  while (re.exec(string)) ++n;\n  return n;\n}\n","import inspectName from \"./inspectName.js\";\nvar toString = Function.prototype.toString,\n    TYPE_ASYNC = {prefix: \"async \"},\n    TYPE_ASYNC_GENERATOR = {prefix: \"async *\"},\n    TYPE_CLASS = {prefix: \"class\"},\n    TYPE_FUNCTION = {prefix: \"\"},\n    TYPE_GENERATOR = {prefix: \"*\"};\n\nexport default function inspectFunction(f, name) {\n  var type, m, t = toString.call(f);\n\n  switch (f.constructor && f.constructor.name) {\n    case \"AsyncFunction\": type = TYPE_ASYNC; break;\n    case \"AsyncGeneratorFunction\": type = TYPE_ASYNC_GENERATOR; break;\n    case \"GeneratorFunction\": type = TYPE_GENERATOR; break;\n    default: type = /^class\\b/.test(t) ? TYPE_CLASS : TYPE_FUNCTION; break;\n  }\n\n  // A class, possibly named.\n  // class Name\n  if (type === TYPE_CLASS) {\n    return formatFunction(type, \"\", name);\n  }\n\n  // An arrow function with a single argument.\n  // foo =>\n  // async foo =>\n  if ((m = /^(?:async\\s*)?(\\w+)\\s*=>/.exec(t))) {\n    return formatFunction(type, \"(\" + m[1] + \")\", name);\n  }\n\n  // An arrow function with parenthesized arguments.\n  // ()\n  // async ()\n  if ((m = /^(?:async\\s*)?\\(\\s*(\\w+(?:\\s*,\\s*\\w+)*)?\\s*\\)/.exec(t))) {\n    return formatFunction(type, m[1] ? \"(\" + m[1].replace(/\\s*,\\s*/g, \", \") + \")\" : \"()\", name);\n  }\n\n  // A function, possibly: async, generator, anonymous, simply arguments.\n  // function name()\n  // function* name()\n  // async function name()\n  // async function* name()\n  if ((m = /^(?:async\\s*)?function(?:\\s*\\*)?(?:\\s*\\w+)?\\s*\\(\\s*(\\w+(?:\\s*,\\s*\\w+)*)?\\s*\\)/.exec(t))) {\n    return formatFunction(type, m[1] ? \"(\" + m[1].replace(/\\s*,\\s*/g, \", \") + \")\" : \"()\", name);\n  }\n\n  // Something else, like destructuring, comments or default values.\n  return formatFunction(type, \"()\", name);\n}\n\nfunction formatFunction(type, args, cellname) {\n  var span = document.createElement(\"span\");\n  span.className = \"observablehq--function\";\n  if (cellname) {\n    span.appendChild(inspectName(cellname));\n  }\n  var spanType = span.appendChild(document.createElement(\"span\"));\n  spanType.className = \"observablehq--keyword\";\n  spanType.textContent = type.prefix;\n  span.appendChild(document.createTextNode(args));\n  return span;\n}\n","import dispatch from \"./dispatch.js\";\nimport inspectCollapsed from \"./collapsed.js\";\nimport inspectExpanded from \"./expanded.js\";\nimport inspectName from \"./inspectName.js\";\nimport formatDate from \"./formatDate.js\";\nimport formatError from \"./formatError.js\";\nimport formatRegExp from \"./formatRegExp.js\";\nimport formatString from \"./formatString.js\";\nimport formatSymbol from \"./formatSymbol.js\";\nimport inspectFunction from \"./inspectFunction.js\";\nimport {FORBIDDEN} from \"./object.js\";\n\nconst {prototype: {toString}} = Object;\n\nexport function inspect(value, shallow, expand, name) {\n  let type = typeof value;\n  switch (type) {\n    case \"boolean\":\n    case \"undefined\": { value += \"\"; break; }\n    case \"number\": { value = value === 0 && 1 / value < 0 ? \"-0\" : value + \"\"; break; }\n    case \"bigint\": { value = value + \"n\"; break; }\n    case \"symbol\": { value = formatSymbol(value, name); break; }\n    case \"function\": { return inspectFunction(value, name); }\n    case \"string\": { return formatString(value, shallow, expand, name); }\n    default: {\n      if (value === null) { type = null, value = \"null\"; break; }\n      if (value instanceof Date) { type = \"date\", value = formatDate(value, name); break; }\n      if (value === FORBIDDEN) { type = \"forbidden\", value = \"[forbidden]\"; break; }\n      switch (toString.call(value)) {\n        case \"[object RegExp]\": { type = \"regexp\", value = formatRegExp(value, name); break; }\n        case \"[object Error]\": // https://github.com/lodash/lodash/blob/master/isError.js#L26\n        case \"[object DOMException]\": { type = \"error\", value = formatError(value, name); break; }\n        default: return (expand ? inspectExpanded : inspectCollapsed)(value, shallow, name);\n      }\n      break;\n    }\n  }\n  const span = document.createElement(\"span\");\n  if (name) span.appendChild(inspectName(name));\n  const n = span.appendChild(document.createElement(\"span\"));\n  n.className = `observablehq--${type}`;\n  n.textContent = value;\n  return span;\n}\n\nexport function replace(spanOld, spanNew) {\n  if (spanOld.classList.contains(\"observablehq--inspect\")) spanNew.classList.add(\"observablehq--inspect\");\n  spanOld.parentNode.replaceChild(spanNew, spanOld);\n  dispatch(spanNew, \"load\");\n}\n","import dispatch from \"./dispatch.js\";\nimport {inspect} from \"./inspect.js\";\nimport inspectName from \"./inspectName.js\";\n\nconst LOCATION_MATCH = /\\s+\\(\\d+:\\d+\\)$/m;\n\nexport class Inspector {\n  constructor(node) {\n    if (!node) throw new Error(\"invalid node\");\n    this._node = node;\n    node.classList.add(\"observablehq\");\n  }\n  pending() {\n    const {_node} = this;\n    _node.classList.remove(\"observablehq--error\");\n    _node.classList.add(\"observablehq--running\");\n  }\n  fulfilled(value, name) {\n    const {_node} = this;\n    if (!(value instanceof Element || value instanceof Text) || (value.parentNode && value.parentNode !== _node)) {\n      value = inspect(value, false, _node.firstChild // TODO Do this better.\n          && _node.firstChild.classList\n          && _node.firstChild.classList.contains(\"observablehq--expanded\"), name);\n      value.classList.add(\"observablehq--inspect\");\n    }\n    _node.classList.remove(\"observablehq--running\", \"observablehq--error\");\n    if (_node.firstChild !== value) {\n      if (_node.firstChild) {\n        while (_node.lastChild !== _node.firstChild) _node.removeChild(_node.lastChild);\n        _node.replaceChild(value, _node.firstChild);\n      } else {\n        _node.appendChild(value);\n      }\n    }\n    dispatch(_node, \"update\");\n  }\n  rejected(error, name) {\n    const {_node} = this;\n    _node.classList.remove(\"observablehq--running\");\n    _node.classList.add(\"observablehq--error\");\n    while (_node.lastChild) _node.removeChild(_node.lastChild);\n    var div = document.createElement(\"div\");\n    div.className = \"observablehq--inspect\";\n    if (name) div.appendChild(inspectName(name));\n    div.appendChild(document.createTextNode((error + \"\").replace(LOCATION_MATCH, \"\")));\n    _node.appendChild(div);\n    dispatch(_node, \"error\", {error: error});\n  }\n}\n\nInspector.into = function(container) {\n  if (typeof container === \"string\") {\n    container = document.querySelector(container);\n    if (container == null) throw new Error(\"container not found\");\n  }\n  return function() {\n    return new Inspector(container.appendChild(document.createElement(\"div\")));\n  };\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(width, height) {\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = width;\n  canvas.height = height;\n  return canvas;\n}\n","export default function(width, height, dpi) {\n  if (dpi == null) dpi = devicePixelRatio;\n  var canvas = document.createElement(\"canvas\");\n  canvas.width = width * dpi;\n  canvas.height = height * dpi;\n  canvas.style.width = width + \"px\";\n  var context = canvas.getContext(\"2d\");\n  context.scale(dpi, dpi);\n  return context;\n}\n","export default function(value, name = \"untitled\", label = \"Save\") {\n  const a = document.createElement(\"a\");\n  const b = a.appendChild(document.createElement(\"button\"));\n  b.textContent = label;\n  a.download = name;\n\n  async function reset() {\n    await new Promise(requestAnimationFrame);\n    URL.revokeObjectURL(a.href);\n    a.removeAttribute(\"href\");\n    b.textContent = label;\n    b.disabled = false;\n  }\n\n  a.onclick = async event => {\n    b.disabled = true;\n    if (a.href) return reset(); // Already saved.\n    b.textContent = \"Saving\";\n    try {\n      const object = await (typeof value === \"function\" ? value() : value);\n      b.textContent = \"Download\";\n      a.href = URL.createObjectURL(object); // eslint-disable-line require-atomic-updates\n    } catch (ignore) {\n      b.textContent = label;\n    }\n    if (event.eventPhase) return reset(); // Already downloaded.\n    b.disabled = false;\n  };\n\n  return a;\n}\n","var namespaces = {\n  math: \"http://www.w3.org/1998/Math/MathML\",\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: \"http://www.w3.org/1999/xhtml\",\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nexport default function(name, attributes) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\"), value;\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  var element = namespaces.hasOwnProperty(prefix) // eslint-disable-line no-prototype-builtins\n      ? document.createElementNS(namespaces[prefix], name)\n      : document.createElement(name);\n  if (attributes) for (var key in attributes) {\n    prefix = key, i = prefix.indexOf(\":\"), value = attributes[key];\n    if (i >= 0 && (prefix = key.slice(0, i)) !== \"xmlns\") key = key.slice(i + 1);\n    if (namespaces.hasOwnProperty(prefix)) element.setAttributeNS(namespaces[prefix], key, value); // eslint-disable-line no-prototype-builtins\n    else element.setAttribute(key, value);\n  }\n  return element;\n}\n","export default function(type) {\n  var input = document.createElement(\"input\");\n  if (type != null) input.type = type;\n  return input;\n}\n","export default function(min, max, step) {\n  if (arguments.length === 1) max = min, min = null;\n  var input = document.createElement(\"input\");\n  input.min = min = min == null ? 0 : +min;\n  input.max = max = max == null ? 1 : +max;\n  input.step = step == null ? \"any\" : step = +step;\n  input.type = \"range\";\n  return input;\n}\n","export default function(values) {\n  var select = document.createElement(\"select\");\n  Array.prototype.forEach.call(values, function(value) {\n    var option = document.createElement(\"option\");\n    option.value = option.textContent = value;\n    select.appendChild(option);\n  });\n  return select;\n}\n","export default function(width, height) {\n  var svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  svg.setAttribute(\"viewBox\", [0, 0, width, height]);\n  svg.setAttribute(\"width\", width);\n  svg.setAttribute(\"height\", height);\n  return svg;\n}\n","export default function(value) {\n  return document.createTextNode(value);\n}\n","var count = 0;\n\nexport default function(name) {\n  return new Id(\"O-\" + (name == null ? \"\" : name + \"-\") + ++count);\n}\n\nfunction Id(id) {\n  this.id = id;\n  this.href = window.location.href + \"#\" + id;\n}\n\nId.prototype.toString = function() {\n  return \"url(\" + this.href + \")\";\n};\n","import canvas from \"./canvas\";\nimport context2d from \"./context2d\";\nimport download from \"./download\";\nimport element from \"./element\";\nimport input from \"./input\";\nimport range from \"./range\";\nimport select from \"./select\";\nimport svg from \"./svg\";\nimport text from \"./text\";\nimport uid from \"./uid\";\n\nexport default {\n  canvas: canvas,\n  context2d: context2d,\n  download: download,\n  element: element,\n  input: input,\n  range: range,\n  select: select,\n  svg: svg,\n  text: text,\n  uid: uid\n};\n","export default function(file) {\n  return new Promise(function(resolve, reject) {\n    var reader = new FileReader;\n    reader.onload = function() { resolve(reader.result); };\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(file);\n  });\n}\n","export default function(file) {\n  return new Promise(function(resolve, reject) {\n    var reader = new FileReader;\n    reader.onload = function() { resolve(reader.result); };\n    reader.onerror = reject;\n    reader.readAsText(file);\n  });\n}\n","export default function(file) {\n  return new Promise(function(resolve, reject) {\n    var reader = new FileReader;\n    reader.onload = function() { resolve(reader.result); };\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}\n","import buffer from \"./buffer\";\nimport text from \"./text\";\nimport url from \"./url\";\n\nexport default {\n  buffer: buffer,\n  text: text,\n  url: url\n};\n","export default function that() {\n  return this;\n}\n","import that from \"../that\";\n\nexport default function disposable(value, dispose) {\n  let done = false;\n  return {\n    [Symbol.iterator]: that,\n    next: () => done ? {done: true} : (done = true, {done: false, value}),\n    return: () => (done = true, dispose(value), {done: true}),\n    throw: () => ({done: done = true})\n  };\n}\n","export default function*(iterator, test) {\n  var result, index = -1;\n  while (!(result = iterator.next()).done) {\n    if (test(result.value, ++index)) {\n      yield result.value;\n    }\n  }\n}\n","import that from \"../that\";\n\nexport default function(initialize) {\n  let stale = false;\n  let value;\n  let resolve;\n  const dispose = initialize(change);\n\n  function change(x) {\n    if (resolve) resolve(x), resolve = null;\n    else stale = true;\n    return value = x;\n  }\n\n  function next() {\n    return {done: false, value: stale\n        ? (stale = false, Promise.resolve(value))\n        : new Promise(_ => (resolve = _))};\n  }\n\n  return {\n    [Symbol.iterator]: that,\n    throw: () => ({done: true}),\n    return: () => (dispose != null && dispose(), {done: true}),\n    next\n  };\n}\n","import observe from \"./observe\";\n\nexport default function(input) {\n  return observe(function(change) {\n    var event = eventof(input), value = valueof(input);\n    function inputted() { change(valueof(input)); }\n    input.addEventListener(event, inputted);\n    if (value !== undefined) change(value);\n    return function() { input.removeEventListener(event, inputted); };\n  });\n}\n\nfunction valueof(input) {\n  switch (input.type) {\n    case \"range\":\n    case \"number\": return input.valueAsNumber;\n    case \"date\": return input.valueAsDate;\n    case \"checkbox\": return input.checked;\n    case \"file\": return input.multiple ? input.files : input.files[0];\n    default: return input.value;\n  }\n}\n\nfunction eventof(input) {\n  switch (input.type) {\n    case \"button\":\n    case \"submit\":\n    case \"checkbox\": return \"click\";\n    case \"file\": return \"change\";\n    default: return \"input\";\n  }\n}\n","export default function*(iterator, transform) {\n  var result, index = -1;\n  while (!(result = iterator.next()).done) {\n    yield transform(result.value, ++index);\n  }\n}\n","import that from \"../that\";\n\nexport default function(initialize) {\n  let resolve;\n  const queue = [];\n  const dispose = initialize(push);\n\n  function push(x) {\n    queue.push(x);\n    if (resolve) resolve(queue.shift()), resolve = null;\n    return x;\n  }\n\n  function next() {\n    return {done: false, value: queue.length\n        ? Promise.resolve(queue.shift())\n        : new Promise(_ => (resolve = _))};\n  }\n\n  return {\n    [Symbol.iterator]: that,\n    throw: () => ({done: true}),\n    return: () => (dispose != null && dispose(), {done: true}),\n    next\n  };\n}\n","export default function*(start, stop, step) {\n  start = +start;\n  stop = +stop;\n  step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1, n = Math.max(0, Math.ceil((stop - start) / step)) | 0;\n  while (++i < n) {\n    yield start + i * step;\n  }\n}\n","export default function(iterator, i) {\n  if (!isFinite(i = +i) || i < 0 || i !== i | 0) return;\n  var result, index = -1;\n  while (!(result = iterator.next()).done) {\n    if (++index === i) {\n      return result.value;\n    }\n  }\n}\n","import disposable from \"./disposable\";\n\nexport default function worker(source) {\n  const url = URL.createObjectURL(new Blob([source], {type: \"text/javascript\"}));\n  const worker = new Worker(url);\n  return disposable(worker, () => {\n    worker.terminate();\n    URL.revokeObjectURL(url);\n  });\n}\n","import disposable from \"./disposable\";\nimport filter from \"./filter\";\nimport input from \"./input\";\nimport map from \"./map\";\nimport observe from \"./observe\";\nimport queue from \"./queue\";\nimport range from \"./range\";\nimport valueAt from \"./valueAt\";\nimport worker from \"./worker\";\n\nexport default {\n  disposable: disposable,\n  filter: filter,\n  input: input,\n  map: map,\n  observe: observe,\n  queue: queue,\n  range: range,\n  valueAt: valueAt,\n  worker: worker\n};\n","export default function template(render, wrapper) {\n  return function(strings) {\n    var string = strings[0],\n        parts = [], part,\n        root = null,\n        node, nodes,\n        walker,\n        i, n, j, m, k = -1;\n\n    // Concatenate the text using comments as placeholders.\n    for (i = 1, n = arguments.length; i < n; ++i) {\n      part = arguments[i];\n      if (part instanceof Node) {\n        parts[++k] = part;\n        string += \"<!--o:\" + k + \"-->\";\n      } else if (Array.isArray(part)) {\n        for (j = 0, m = part.length; j < m; ++j) {\n          node = part[j];\n          if (node instanceof Node) {\n            if (root === null) {\n              parts[++k] = root = document.createDocumentFragment();\n              string += \"<!--o:\" + k + \"-->\";\n            }\n            root.appendChild(node);\n          } else {\n            root = null;\n            string += node;\n          }\n        }\n        root = null;\n      } else {\n        string += part;\n      }\n      string += strings[i];\n    }\n\n    // Render the text.\n    root = render(string);\n\n    // Walk the rendered content to replace comment placeholders.\n    if (++k > 0) {\n      nodes = new Array(k);\n      walker = document.createTreeWalker(root, NodeFilter.SHOW_COMMENT, null, false);\n      while (walker.nextNode()) {\n        node = walker.currentNode;\n        if (/^o:/.test(node.nodeValue)) {\n          nodes[+node.nodeValue.slice(2)] = node;\n        }\n      }\n      for (i = 0; i < k; ++i) {\n        if (node = nodes[i]) {\n          node.parentNode.replaceChild(parts[i], node);\n        }\n      }\n    }\n\n    // Is the rendered content\n    //  a parent of a single child? Detach and return the child.\n    //  a document fragment? Replace the fragment with an element.\n    //  some other node? Return it.\n    return root.childNodes.length === 1 ? root.removeChild(root.firstChild)\n        : root.nodeType === 11 ? ((node = wrapper()).appendChild(root), node)\n        : root;\n  };\n}\n","import template from \"./template\";\n\nexport default template(function(string) {\n  var template = document.createElement(\"template\");\n  template.innerHTML = string.trim();\n  return document.importNode(template.content, true);\n}, function() {\n  return document.createElement(\"span\");\n});\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/chjj/marked\n */\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^( *[-*_]){3,} *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  blockquote: /^( *>[^\\n]+(\\n(?!def)[^\\n]+)*\\n*)+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +[\"(]([^\\n]+)[\")])? *(?:\\n+|$)/,\n  table: noop,\n  paragraph: /^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,\n  text: /^[^\\n]+/\n};\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = replace(block.item, 'gm')\n  (/bull/g, block.bullet)\n  ();\n\nblock.list = replace(block.list)\n  (/bull/g, block.bullet)\n  ('hr', '\\\\n+(?=\\\\1?(?:[-*_] *){3,}(?:\\\\n+|$))')\n  ('def', '\\\\n+(?=' + block.def.source + ')')\n  ();\n\nblock.blockquote = replace(block.blockquote)\n  ('def', block.def)\n  ();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|[^\\\\w\\\\s@]*@)\\\\b';\n\nblock.html = replace(block.html)\n  ('comment', /<!--[\\s\\S]*?-->/)\n  ('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  ('closing', /<tag(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/)\n  (/tag/g, block._tag)\n  ();\n\nblock.paragraph = replace(block.paragraph)\n  ('hr', block.hr)\n  ('heading', block.heading)\n  ('lheading', block.lheading)\n  ('blockquote', block.blockquote)\n  ('tag', '<' + block._tag)\n  ('def', block.def)\n  ();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\s*\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = replace(block.paragraph)\n  ('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  ();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top, bq) {\n  var src = src.replace(/^ +$/gm, '')\n    , next\n    , loose\n    , cap\n    , bull\n    , b\n    , item\n    , space\n    , i\n    , l;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top, true);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: bull.length > 1\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false, bq);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if ((!bq && top) && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.links[cap[1].toLowerCase()] = {\n        href: cap[2],\n        title: cap[3]\n      };\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<([^ <>]+(@|:\\/)[^ <>]+)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?\\w+(?:\"[^\"]*\"|'[^']*'|[^<'\">])*?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^\\b_((?:[^_]|__)+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\n  code: /^(`+)([\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[_*`]| {2,}\\n|$)/\n};\n\ninline._inside = /(?:\\[[^\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = replace(inline.link)\n  ('inside', inline._inside)\n  ('href', inline._href)\n  ();\n\ninline.reflink = replace(inline.reflink)\n  ('inside', inline._inside)\n  ();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: replace(inline.escape)('])', '~|])')(),\n  url: /^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: replace(inline.text)\n    (']|', '~]|')\n    ('|', '|https?://|')\n    ()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: replace(inline.br)('{2,}', '*')(),\n  text: replace(inline.gfm.text)('{2,}', '*')()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer;\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new\n      Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = ''\n    , link\n    , text\n    , href\n    , cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(\n          cap[1].charAt(6) === ':'\n          ? this.mangle(cap[1].substring(7))\n          : this.mangle(cap[1])\n        );\n        href = this.mangle('mailto:') + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      src = src.substring(cap[0].length);\n      text = escape(cap[1]);\n      href = text;\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.text(escape(this.smartypants(cap[0])));\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href)\n    , title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = ''\n    , l = text.length\n    , i = 0\n    , ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered) {\n  var type = ordered ? 'ol' : 'ul';\n  return '<' + type + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return text;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return text;\n    }\n  }\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  if (this.options.baseUrl && !originIndependentUrl.test(href)) {\n    href = resolveUrl(this.options.baseUrl, href);\n  }\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer;\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options, renderer) {\n  var parser = new Parser(options, renderer);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options, this.renderer);\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        this.token.text);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = ''\n        , body = ''\n        , i\n        , row\n        , cell\n        , flags\n        , j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        flags = { header: true, align: this.token.align[i] };\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      var body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      var body = ''\n        , ordered = this.token.ordered;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered);\n    }\n    case 'list_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction unescape(html) {\n\t// explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction replace(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return function self(name, val) {\n    if (!name) return new RegExp(regex, opt);\n    val = val.source || val;\n    val = val.replace(/(^|[^\\[])\\^/g, '$1');\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = base.replace(/[^/]*$/, '');\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1\n    , target\n    , key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight\n      , tokens\n      , pending\n      , i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/chjj/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  sanitizer: null,\n  mangle: true,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer,\n  xhtml: false,\n  baseUrl: null\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nexport default marked;\n","import template from \"./template\";\nimport marked from \"marked\";\n\nconst HL_ROOT =\n  \"https://cdn.jsdelivr.net/npm/@observablehq/highlight.js@2.0.0/\";\n\nexport default function(require) {\n  return function() {\n    return template(\n      function(string) {\n        var root = document.createElement(\"div\");\n        root.innerHTML = marked(string, { langPrefix: \"\" }).trim();\n        var code = root.querySelectorAll(\"pre code[class]\");\n        if (code.length > 0) {\n          require(HL_ROOT + \"highlight.min.js\").then(function(hl) {\n            code.forEach(function(block) {\n              function done() {\n                hl.highlightBlock(block);\n                block.parentNode.classList.add(\"observablehq--md-pre\");\n              }\n              if (hl.getLanguage(block.className)) {\n                done();\n              } else {\n                require(HL_ROOT + \"async-languages/index.js\")\n                  .then(index => {\n                    if (index.has(block.className)) {\n                      return require(HL_ROOT +\n                        \"async-languages/\" +\n                        index.get(block.className)).then(language => {\n                        hl.registerLanguage(block.className, language);\n                      });\n                    }\n                  })\n                  .then(done, done);\n              }\n            });\n          });\n        }\n        return root;\n      },\n      function() {\n        return document.createElement(\"div\");\n      }\n    );\n  };\n}\n","import observe from \"./generators/observe\";\n\nexport default function Mutable(value) {\n  let change;\n  Object.defineProperties(this, {\n    generator: {value: observe(_ => void (change = _))},\n    value: {get: () => value, set: x => change(value = x)}\n  });\n  if (value !== undefined) change(value);\n}\n","export default function*() {\n  while (true) {\n    yield Date.now();\n  }\n}\n","export default function(duration, value) {\n  return new Promise(function(resolve) {\n    setTimeout(function() {\n      resolve(value);\n    }, duration);\n  });\n}\n","import constant from \"../constant\";\n\nvar timeouts = new Map;\n\nfunction timeout(now, time) {\n  var t = new Promise(function(resolve) {\n    timeouts.delete(time);\n    var delay = time - now;\n    if (!(delay > 0)) throw new Error(\"invalid time\");\n    if (delay > 0x7fffffff) throw new Error(\"too long to wait\");\n    setTimeout(resolve, delay);\n  });\n  timeouts.set(time, t);\n  return t;\n}\n\nexport default function when(time, value) {\n  var now;\n  return (now = timeouts.get(time = +time)) ? now.then(constant(value))\n      : (now = Date.now()) >= time ? Promise.resolve(value)\n      : timeout(now, time).then(constant(value));\n}\n","import when from \"./when\";\n\nexport default function(duration, value) {\n  return when(Math.ceil((Date.now() + 1) / duration) * duration, value);\n}\n","import delay from \"./delay\";\nimport tick from \"./tick\";\nimport when from \"./when\";\n\nexport default {\n  delay: delay,\n  tick: tick,\n  when: when\n};\n","export default function resolve(name, base) {\n  if (/^(\\w+:)|\\/\\//i.test(name)) return name;\n  if (/^[.]{0,2}\\//i.test(name)) return new URL(name, base == null ? location : base).href;\n  if (!name.length || /^[\\s._]/.test(name) || /\\s$/.test(name)) throw new Error(\"illegal name\");\n  return \"https://unpkg.com/\" + name;\n}\n","const metas = new Map;\nconst queue = [];\nconst map = queue.map;\nconst some = queue.some;\nconst hasOwnProperty = queue.hasOwnProperty;\nconst origin = \"https://cdn.jsdelivr.net/npm/\";\nconst identifierRe = /^((?:@[^/@]+\\/)?[^/@]+)(?:@([^/]+))?(?:\\/(.*))?$/;\nconst versionRe = /^\\d+\\.\\d+\\.\\d+(-[\\w-.+]+)?$/;\nconst extensionRe = /\\.[^/]*$/;\nconst mains = [\"unpkg\", \"jsdelivr\", \"browser\", \"main\"];\n\nexport class RequireError extends Error {\n  constructor(message) {\n    super(message);\n  }\n}\n\nRequireError.prototype.name = RequireError.name;\n\nfunction main(meta) {\n  for (const key of mains) {\n    const value = meta[key];\n    if (typeof value === \"string\") {\n      return extensionRe.test(value) ? value : `${value}.js`;\n    }\n  }\n}\n\nfunction parseIdentifier(identifier) {\n  const match = identifierRe.exec(identifier);\n  return match && {\n    name: match[1],\n    version: match[2],\n    path: match[3]\n  };\n}\n\nfunction resolveMeta(target) {\n  const url = `${origin}${target.name}${target.version ? `@${target.version}` : \"\"}/package.json`;\n  let meta = metas.get(url);\n  if (!meta) metas.set(url, meta = fetch(url).then(response => {\n    if (!response.ok) throw new RequireError(\"unable to load package.json\");\n    if (response.redirected && !metas.has(response.url)) metas.set(response.url, meta);\n    return response.json();\n  }));\n  return meta;\n}\n\nasync function resolve(name, base) {\n  if (name.startsWith(origin)) name = name.substring(origin.length);\n  if (/^(\\w+:)|\\/\\//i.test(name)) return name;\n  if (/^[.]{0,2}\\//i.test(name)) return new URL(name, base == null ? location : base).href;\n  if (!name.length || /^[\\s._]/.test(name) || /\\s$/.test(name)) throw new RequireError(\"illegal name\");\n  const target = parseIdentifier(name);\n  if (!target) return `${origin}${name}`;\n  if (!target.version && base != null && base.startsWith(origin)) {\n    const meta = await resolveMeta(parseIdentifier(base.substring(origin.length)));\n    target.version = meta.dependencies && meta.dependencies[target.name] || meta.peerDependencies && meta.peerDependencies[target.name];\n  }\n  if (target.path && !extensionRe.test(target.path)) target.path += \".js\";\n  if (target.path && target.version && versionRe.test(target.version)) return `${origin}${target.name}@${target.version}/${target.path}`;\n  const meta = await resolveMeta(target);\n  return `${origin}${meta.name}@${meta.version}/${target.path || main(meta) || \"index.js\"}`;\n}\n\nexport const require = requireFrom(resolve);\n\nexport function requireFrom(resolver) {\n  const cache = new Map;\n  const requireBase = requireRelative(null);\n\n  function requireAbsolute(url) {\n    if (typeof url !== \"string\") return url;\n    let module = cache.get(url);\n    if (!module) cache.set(url, module = new Promise((resolve, reject) => {\n      const script = document.createElement(\"script\");\n      script.onload = () => {\n        try { resolve(queue.pop()(requireRelative(url))); }\n        catch (error) { reject(new RequireError(\"invalid module\")); }\n        script.remove();\n      };\n      script.onerror = () => {\n        reject(new RequireError(\"unable to load module\"));\n        script.remove();\n      };\n      script.async = true;\n      script.src = url;\n      window.define = define;\n      document.head.appendChild(script);\n    }));\n    return module;\n  }\n\n  function requireRelative(base) {\n    return name => Promise.resolve(resolver(name, base)).then(requireAbsolute);\n  }\n\n  function requireAlias(aliases) {\n    return requireFrom((name, base) => {\n      if (name in aliases) {\n        name = aliases[name], base = null;\n        if (typeof name !== \"string\") return name;\n      }\n      return resolver(name, base);\n    });\n  }\n\n  function require(name) {\n    return arguments.length > 1\n        ? Promise.all(map.call(arguments, requireBase)).then(merge)\n        : requireBase(name);\n  }\n\n  require.alias = requireAlias;\n  require.resolve = resolver;\n\n  return require;\n}\n\nfunction merge(modules) {\n  const o = {};\n  for (const m of modules) {\n    for (const k in m) {\n      if (hasOwnProperty.call(m, k)) {\n        if (m[k] == null) Object.defineProperty(o, k, {get: getter(m, k)});\n        else o[k] = m[k];\n      }\n    }\n  }\n  return o;\n}\n\nfunction getter(object, name) {\n  return () => object[name];\n}\n\nfunction isbuiltin(name) {\n  name = name + \"\";\n  return name === \"exports\" || name === \"module\";\n}\n\nfunction define(name, dependencies, factory) {\n  const n = arguments.length;\n  if (n < 2) factory = name, dependencies = [];\n  else if (n < 3) factory = dependencies, dependencies = typeof name === \"string\" ? [] : name;\n  queue.push(some.call(dependencies, isbuiltin) ? require => {\n    const exports = {};\n    const module = {exports};\n    return Promise.all(map.call(dependencies, name => {\n      name = name + \"\";\n      return name === \"exports\" ? exports : name === \"module\" ? module : require(name);\n    })).then(dependencies => {\n      factory.apply(null, dependencies);\n      return module.exports;\n    });\n  } : require => {\n    return Promise.all(map.call(dependencies, require)).then(dependencies => {\n      return typeof factory === \"function\" ? factory.apply(null, dependencies) : factory;\n    });\n  });\n}\n\ndefine.amd = {};\n","import {require as requireDefault, requireFrom} from \"d3-require\";\n\nexport default function(resolve) {\n  return resolve == null ? requireDefault : requireFrom(resolve);\n}\n","import template from \"./template\";\n\nexport default template(function(string) {\n  var root = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  root.innerHTML = string.trim();\n  return root;\n}, function() {\n  return document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n});\n","var raw = String.raw;\n\nfunction style(href) {\n  return new Promise(function(resolve, reject) {\n    var link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    link.href = href;\n    link.onerror = reject;\n    link.onload = resolve;\n    document.head.appendChild(link);\n  });\n}\n\nexport default function(require) {\n  return function() {\n    return Promise.all([\n      require(\"@observablehq/katex@0.11.1/dist/katex.min.js\"),\n      require.resolve(\"@observablehq/katex@0.11.1/dist/katex.min.css\").then(style)\n    ]).then(function(values) {\n      var katex = values[0], tex = renderer();\n\n      function renderer(options) {\n        return function() {\n          var root = document.createElement(\"div\");\n          katex.render(raw.apply(String, arguments), root, options);\n          return root.removeChild(root.firstChild);\n        };\n      }\n\n      tex.options = renderer;\n      tex.block = renderer({displayMode: true});\n      return tex;\n    });\n  };\n}\n","import observe from \"./generators/observe\";\n\nexport default function() {\n  return observe(function(change) {\n    var width = change(document.body.clientWidth);\n    function resized() {\n      var w = document.body.clientWidth;\n      if (w !== width) change(width = w);\n    }\n    window.addEventListener(\"resize\", resized);\n    return function() {\n      window.removeEventListener(\"resize\", resized);\n    };\n  });\n}\n","import constant from \"./constant\";\nimport DOM from \"./dom/index\";\nimport Files from \"./files/index\";\nimport Generators from \"./generators/index\";\nimport html from \"./html\";\nimport md from \"./md\";\nimport Mutable from \"./mutable\";\nimport now from \"./now\";\nimport Promises from \"./promises/index\";\nimport resolve from \"./resolve\";\nimport requirer from \"./require\";\nimport svg from \"./svg\";\nimport tex from \"./tex\";\nimport width from \"./width\";\n\nexport default function Library(resolver) {\n  const require = requirer(resolver);\n  Object.defineProperties(this, {\n    DOM: {value: DOM, writable: true, enumerable: true},\n    Files: {value: Files, writable: true, enumerable: true},\n    Generators: {value: Generators, writable: true, enumerable: true},\n    html: {value: constant(html), writable: true, enumerable: true},\n    md: {value: md(require), writable: true, enumerable: true},\n    Mutable: {value: constant(Mutable), writable: true, enumerable: true},\n    now: {value: now, writable: true, enumerable: true},\n    Promises: {value: Promises, writable: true, enumerable: true},\n    require: {value: constant(require), writable: true, enumerable: true},\n    resolve: {value: constant(resolve), writable: true, enumerable: true},\n    svg: {value: constant(svg), writable: true, enumerable: true},\n    tex: {value: tex(require), writable: true, enumerable: true},\n    width: {value: width, writable: true, enumerable: true}\n  });\n}\n","export {default as Library} from \"./library\";\n","export function RuntimeError(message, input) {\n  this.message = message + \"\";\n  this.input = input;\n}\n\nRuntimeError.prototype = Object.create(Error.prototype);\nRuntimeError.prototype.name = \"RuntimeError\";\nRuntimeError.prototype.constructor = RuntimeError;\n","export default function generatorish(value) {\n  return value\n      && typeof value.next === \"function\"\n      && typeof value.return === \"function\";\n}\n","import {Library} from \"@observablehq/stdlib\";\nimport Runtime from \"./runtime\";\n\nexport default function load(notebook, library, observer) {\n  if (typeof library == \"function\") observer = library, library = null;\n  if (typeof observer !== \"function\") throw new Error(\"invalid observer\");\n  if (library == null) library = new Library();\n\n  const {modules, id} = notebook;\n  const map = new Map;\n  const runtime = new Runtime(library);\n  const main = runtime_module(id);\n\n  function runtime_module(id) {\n    let module = map.get(id);\n    if (!module) map.set(id, module = runtime.module());\n    return module;\n  }\n\n  for (const m of modules) {\n    const module = runtime_module(m.id);\n    let i = 0;\n    for (const v of m.variables) {\n      if (v.from) module.import(v.remote, v.name, runtime_module(v.from));\n      else if (module === main) module.variable(observer(v, i, m.variables)).define(v.name, v.inputs, v.value);\n      else module.define(v.name, v.inputs, v.value);\n      ++i;\n    }\n  }\n\n  return runtime;\n}\n","var prototype = Array.prototype;\nexport var map = prototype.map;\nexport var forEach = prototype.forEach;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return x;\n}\n","export default function(e) {\n  return function() {\n    throw e;\n  };\n}\n","export default function() {}\n","import {map} from \"./array\";\nimport constant from \"./constant\";\nimport {RuntimeError} from \"./errors\";\nimport identity from \"./identity\";\nimport noop from \"./noop\";\n\nexport var TYPE_NORMAL = 1; // a normal variable\nexport var TYPE_IMPLICIT = 2; // created on reference\nexport var TYPE_DUPLICATE = 3; // created on duplicate definition\n\nexport var no_observer = {};\n\nexport default function Variable(type, module, observer) {\n  if (observer == null) observer = no_observer;\n  Object.defineProperties(this, {\n    _observer: {value: observer, writable: true},\n    _definition: {value: variable_undefined, writable: true},\n    _duplicate: {value: undefined, writable: true},\n    _duplicates: {value: undefined, writable: true},\n    _indegree: {value: NaN, writable: true}, // The number of computing inputs.\n    _inputs: {value: [], writable: true},\n    _invalidate: {value: noop, writable: true},\n    _module: {value: module},\n    _name: {value: null, writable: true},\n    _outputs: {value: new Set, writable: true},\n    _promise: {value: Promise.resolve(undefined), writable: true},\n    _reachable: {value: observer !== no_observer, writable: true}, // Is this variable transitively visible?\n    _rejector: {value: variable_rejector(this)},\n    _type: {value: type},\n    _value: {value: undefined, writable: true},\n    _version: {value: 0, writable: true}\n  });\n}\n\nObject.defineProperties(Variable.prototype, {\n  _pending: {value: variable_pending, writable: true, configurable: true},\n  _fulfilled: {value: variable_fulfilled, writable: true, configurable: true},\n  _rejected: {value: variable_rejected, writable: true, configurable: true},\n  define: {value: variable_define, writable: true, configurable: true},\n  delete: {value: variable_delete, writable: true, configurable: true},\n  import: {value: variable_import, writable: true, configurable: true}\n});\n\nfunction variable_attach(variable) {\n  variable._module._runtime._dirty.add(variable);\n  variable._outputs.add(this);\n}\n\nfunction variable_detach(variable) {\n  variable._module._runtime._dirty.add(variable);\n  variable._outputs.delete(this);\n}\n\nfunction variable_undefined() {\n  throw variable_undefined;\n}\n\nfunction variable_rejector(variable) {\n  return function(error) {\n    if (error === variable_undefined) throw new RuntimeError(variable._name + \" is not defined\", variable._name);\n    throw new RuntimeError(variable._name + \" could not be resolved\", variable._name);\n  };\n}\n\nfunction variable_duplicate(name) {\n  return function() {\n    throw new RuntimeError(name + \" is defined more than once\");\n  };\n}\n\nfunction variable_define(name, inputs, definition) {\n  switch (arguments.length) {\n    case 1: {\n      definition = name, name = inputs = null;\n      break;\n    }\n    case 2: {\n      definition = inputs;\n      if (typeof name === \"string\") inputs = null;\n      else inputs = name, name = null;\n      break;\n    }\n  }\n  return variable_defineImpl.call(this,\n    name == null ? null : name + \"\",\n    inputs == null ? [] : map.call(inputs, this._module._resolve, this._module),\n    typeof definition === \"function\" ? definition : constant(definition)\n  );\n}\n\nfunction variable_defineImpl(name, inputs, definition) {\n  var scope = this._module._scope, runtime = this._module._runtime;\n\n  this._inputs.forEach(variable_detach, this);\n  inputs.forEach(variable_attach, this);\n  this._inputs = inputs;\n  this._definition = definition;\n  this._value = undefined;\n\n  // Is this an active variable (that may require disposal)?\n  if (definition === noop) runtime._variables.delete(this);\n  else runtime._variables.add(this);\n\n  // Did the variables name change? Time to patch references!\n  if (name == this._name && scope.get(name) === this) {\n    this._outputs.forEach(runtime._updates.add, runtime._updates);\n  } else {\n    var error, found;\n\n    if (this._name) { // Did this variable previously have a name?\n      if (this._outputs.size) { // And did other variables reference this variable?\n        scope.delete(this._name);\n        found = this._module._resolve(this._name);\n        found._outputs = this._outputs, this._outputs = new Set;\n        found._outputs.forEach(function(output) { output._inputs[output._inputs.indexOf(this)] = found; }, this);\n        found._outputs.forEach(runtime._updates.add, runtime._updates);\n        runtime._dirty.add(found).add(this);\n        scope.set(this._name, found);\n      } else if ((found = scope.get(this._name)) === this) { // Do no other variables reference this variable?\n        scope.delete(this._name); // Its safe to delete!\n      } else if (found._type === TYPE_DUPLICATE) { // Do other variables assign this name?\n        found._duplicates.delete(this); // This variable no longer assigns this name.\n        this._duplicate = undefined;\n        if (found._duplicates.size === 1) { // Is there now only one variable assigning this name?\n          found = found._duplicates.keys().next().value; // Any references are now fixed!\n          error = scope.get(this._name);\n          found._outputs = error._outputs, error._outputs = new Set;\n          found._outputs.forEach(function(output) { output._inputs[output._inputs.indexOf(error)] = found; });\n          found._definition = found._duplicate, found._duplicate = undefined;\n          runtime._dirty.add(error).add(found);\n          runtime._updates.add(found);\n          scope.set(this._name, found);\n        }\n      } else {\n        throw new Error;\n      }\n    }\n\n    if (this._outputs.size) throw new Error;\n\n    if (name) { // Does this variable have a new name?\n      if (found = scope.get(name)) { // Do other variables reference or assign this name?\n        if (found._type === TYPE_DUPLICATE) { // Do multiple other variables already define this name?\n          this._definition = variable_duplicate(name), this._duplicate = definition;\n          found._duplicates.add(this);\n        } else if (found._type === TYPE_IMPLICIT) { // Are the variable references broken?\n          this._outputs = found._outputs, found._outputs = new Set; // Now theyre fixed!\n          this._outputs.forEach(function(output) { output._inputs[output._inputs.indexOf(found)] = this; }, this);\n          runtime._dirty.add(found).add(this);\n          scope.set(name, this);\n        } else { // Does another variable define this name?\n          found._duplicate = found._definition, this._duplicate = definition; // Now theyre duplicates.\n          error = new Variable(TYPE_DUPLICATE, this._module);\n          error._name = name;\n          error._definition = this._definition = found._definition = variable_duplicate(name);\n          error._outputs = found._outputs, found._outputs = new Set;\n          error._outputs.forEach(function(output) { output._inputs[output._inputs.indexOf(found)] = error; });\n          error._duplicates = new Set([this, found]);\n          runtime._dirty.add(found).add(error);\n          runtime._updates.add(found).add(error);\n          scope.set(name, error);\n        }\n      } else {\n        scope.set(name, this);\n      }\n    }\n\n    this._name = name;\n  }\n\n  runtime._updates.add(this);\n  runtime._compute();\n  return this;\n}\n\nfunction variable_import(remote, name, module) {\n  if (arguments.length < 3) module = name, name = remote;\n  return variable_defineImpl.call(this, name + \"\", [module._resolve(remote + \"\")], identity);\n}\n\nfunction variable_delete() {\n  return variable_defineImpl.call(this, null, [], noop);\n}\n\nfunction variable_pending() {\n  if (this._observer.pending) this._observer.pending();\n}\n\nfunction variable_fulfilled(value) {\n  if (this._observer.fulfilled) this._observer.fulfilled(value, this._name);\n}\n\nfunction variable_rejected(error) {\n  if (this._observer.rejected) this._observer.rejected(error, this._name);\n}\n","import {forEach} from \"./array\";\nimport constant from \"./constant\";\nimport {RuntimeError} from \"./errors\";\nimport identity from \"./identity\";\nimport rethrow from \"./rethrow\";\nimport {variable_invalidation, variable_visibility} from \"./runtime\";\nimport Variable, {TYPE_DUPLICATE, TYPE_IMPLICIT, TYPE_NORMAL, no_observer} from \"./variable\";\n\nvar none = new Map;\n\nexport default function Module(runtime) {\n  Object.defineProperties(this, {\n    _runtime: {value: runtime},\n    _scope: {value: new Map}\n  });\n}\n\nObject.defineProperties(Module.prototype, {\n  _copy: {value: module_copy, writable: true, configurable: true},\n  _resolve: {value: module_resolve, writable: true, configurable: true},\n  redefine: {value: module_redefine, writable: true, configurable: true},\n  define: {value: module_define, writable: true, configurable: true},\n  derive: {value: module_derive, writable: true, configurable: true},\n  import: {value: module_import, writable: true, configurable: true},\n  value: {value: module_value, writable: true, configurable: true},\n  variable: {value: module_variable, writable: true, configurable: true}\n});\n\nfunction module_redefine(name) {\n  var v = this._scope.get(name);\n  if (!v) throw new RuntimeError(name + \" is not defined\");\n  if (v._type === TYPE_DUPLICATE) throw new RuntimeError(name + \" is defined more than once\");\n  return v.define.apply(v, arguments);\n}\n\nfunction module_define() {\n  var v = new Variable(TYPE_NORMAL, this);\n  return v.define.apply(v, arguments);\n}\n\nfunction module_import() {\n  var v = new Variable(TYPE_NORMAL, this);\n  return v.import.apply(v, arguments);\n}\n\nfunction module_variable(observer) {\n  return new Variable(TYPE_NORMAL, this, observer);\n}\n\nasync function module_value(name) {\n  var v = this._scope.get(name);\n  if (!v) throw new RuntimeError(name + \" is not defined\");\n  if (v._observer === no_observer) {\n    v._observer = true;\n    this._runtime._dirty.add(v);\n  }\n  await this._runtime._compute();\n  return v._promise;\n}\n\nfunction module_derive(injects, injectModule) {\n  var injectByAlias = new Map;\n  forEach.call(injects, function(inject) {\n    if (typeof inject !== \"object\") inject = {name: inject + \"\"};\n    if (inject.alias == null) inject.alias = inject.name;\n    injectByAlias.set(inject.alias, inject);\n  });\n  var copy = new Module(this._runtime);\n  Promise.resolve().then(() => this._copy(copy, injectByAlias, injectModule, new Map));\n  return copy;\n}\n\nfunction module_copy(copy, injectByAlias, injectModule, map) {\n  map.set(this, copy);\n  this._scope.forEach(function(source, name) {\n    var target = new Variable(source._type, copy), inject;\n    if (inject = injectByAlias.get(name)) {\n      target.import(inject.name, inject.alias, injectModule);\n    } else if (source._definition === identity) { // import!\n      var sourceInput = source._inputs[0],\n          sourceModule = sourceInput._module,\n          targetModule = map.get(sourceModule) || sourceModule._copy(new Module(copy._runtime), none, null, map);\n      target.import(sourceInput._name, name, targetModule);\n    } else {\n      target.define(name, source._inputs.map(variable_name), source._definition);\n    }\n  });\n  return copy;\n}\n\nfunction module_resolve(name) {\n  var variable = this._scope.get(name), value;\n  if (!variable)  {\n    variable = new Variable(TYPE_IMPLICIT, this);\n    if (this._runtime._builtin._scope.has(name)) {\n      variable.import(name, this._runtime._builtin);\n    } else if (name === \"invalidation\") {\n      variable.define(name, variable_invalidation);\n    } else if (name === \"visibility\") {\n      variable.define(name, variable_visibility);\n    } else {\n      try {\n        value = this._runtime._global(name);\n      } catch (error) {\n        return variable.define(name, rethrow(error));\n      }\n      if (value === undefined) {\n        this._scope.set(variable._name = name, variable);\n      } else {\n        variable.define(name, constant(value));\n      }\n    }\n  }\n  return variable;\n}\n\nfunction variable_name(variable) {\n  return variable._name;\n}\n","import {Library} from \"@observablehq/stdlib\";\nimport {RuntimeError} from \"./errors\";\nimport generatorish from \"./generatorish\";\nimport load from \"./load\";\nimport Module from \"./module\";\nimport noop from \"./noop\";\nimport Variable, {TYPE_IMPLICIT, no_observer} from \"./variable\";\n\nconst frame = typeof requestAnimationFrame === \"function\" ? requestAnimationFrame : setImmediate;\n\nexport var variable_invalidation = {};\nexport var variable_visibility = {};\n\nexport default function Runtime(builtins = new Library, global = window_global) {\n  var builtin = this.module();\n  Object.defineProperties(this, {\n    _dirty: {value: new Set},\n    _updates: {value: new Set},\n    _computing: {value: null, writable: true},\n    _init: {value: null, writable: true},\n    _modules: {value: new Map},\n    _variables: {value: new Set},\n    _disposed: {value: false, writable: true},\n    _builtin: {value: builtin},\n    _global: {value: global}\n  });\n  if (builtins) for (var name in builtins) {\n    (new Variable(TYPE_IMPLICIT, builtin)).define(name, [], builtins[name]);\n  }\n}\n\nObject.defineProperties(Runtime, {\n  load: {value: load, writable: true, configurable: true}\n});\n\nObject.defineProperties(Runtime.prototype, {\n  _compute: {value: runtime_compute, writable: true, configurable: true},\n  _computeSoon: {value: runtime_computeSoon, writable: true, configurable: true},\n  _computeNow: {value: runtime_computeNow, writable: true, configurable: true},\n  dispose: {value: runtime_dispose, writable: true, configurable: true},\n  module: {value: runtime_module, writable: true, configurable: true}\n});\n\nfunction runtime_dispose() {\n  this._computing = Promise.resolve();\n  this._disposed = true;\n  this._variables.forEach(v => {\n    v._invalidate();\n    v._version = NaN;\n  });\n}\n\nfunction runtime_module(define, observer = noop) {\n  let module;\n  if (define === undefined) {\n    if (module = this._init) {\n      this._init = null;\n      return module;\n    }\n    return new Module(this);\n  }\n  module = this._modules.get(define);\n  if (module) return module;\n  this._init = module = new Module(this);\n  this._modules.set(define, module);\n  try {\n    define(this, observer);\n  } finally {\n    this._init = null;\n  }\n  return module;\n}\n\nfunction runtime_compute() {\n  return this._computing || (this._computing = this._computeSoon());\n}\n\nfunction runtime_computeSoon() {\n  var runtime = this;\n  return new Promise(function(resolve) {\n    frame(function() {\n      resolve();\n      runtime._disposed || runtime._computeNow();\n    });\n  });\n}\n\nfunction runtime_computeNow() {\n  var queue = [],\n      variables,\n      variable;\n\n  // Compute the reachability of the transitive closure of dirty variables.\n  // Any newly-reachable variable must also be recomputed.\n  // Any no-longer-reachable variable must be terminated.\n  variables = new Set(this._dirty);\n  variables.forEach(function(variable) {\n    variable._inputs.forEach(variables.add, variables);\n    const reachable = variable_reachable(variable);\n    if (reachable > variable._reachable) {\n      this._updates.add(variable);\n    } else if (reachable < variable._reachable) {\n      variable._invalidate();\n    }\n    variable._reachable = reachable;\n  }, this);\n\n  // Compute the transitive closure of updating, reachable variables.\n  variables = new Set(this._updates);\n  variables.forEach(function(variable) {\n    if (variable._reachable) {\n      variable._indegree = 0;\n      variable._outputs.forEach(variables.add, variables);\n    } else {\n      variable._indegree = NaN;\n      variables.delete(variable);\n    }\n  });\n\n  this._computing = null;\n  this._updates.clear();\n  this._dirty.clear();\n\n  // Compute the indegree of updating variables.\n  variables.forEach(function(variable) {\n    variable._outputs.forEach(variable_increment);\n  });\n\n  // Identify the root variables (those with no updating inputs).\n  variables.forEach(function(variable) {\n    if (variable._indegree === 0) {\n      queue.push(variable);\n    }\n  });\n\n  // Compute the variables in topological order.\n  while (variable = queue.pop()) {\n    variable_compute(variable);\n    variable._outputs.forEach(postqueue);\n    variables.delete(variable);\n  }\n\n  // Any remaining variables have circular definitions.\n  variables.forEach(function(variable) {\n    var error = new RuntimeError(\"circular definition\");\n    variable._value = undefined;\n    (variable._promise = Promise.reject(error)).catch(noop);\n    variable._rejected(error);\n  });\n\n  function postqueue(variable) {\n    if (--variable._indegree === 0) {\n      queue.push(variable);\n    }\n  }\n}\n\nfunction variable_increment(variable) {\n  ++variable._indegree;\n}\n\nfunction variable_value(variable) {\n  return variable._promise.catch(variable._rejector);\n}\n\nfunction variable_invalidator(variable) {\n  return new Promise(function(resolve) {\n    variable._invalidate = resolve;\n  });\n}\n\nfunction variable_intersector(invalidation, variable) {\n  let node = typeof IntersectionObserver === \"function\" && variable._observer && variable._observer._node;\n  let visible = !node, resolve = noop, reject = noop, promise, observer;\n  if (node) {\n    observer = new IntersectionObserver(([entry]) => (visible = entry.isIntersecting) && (promise = null, resolve()));\n    observer.observe(node);\n    invalidation.then(() => (observer.disconnect(), observer = null, reject()));\n  }\n  return function(value) {\n    if (visible) return Promise.resolve(value);\n    if (!observer) return Promise.reject();\n    if (!promise) promise = new Promise((y, n) => (resolve = y, reject = n));\n    return promise.then(() => value);\n  };\n}\n\nfunction variable_compute(variable) {\n  variable._invalidate();\n  variable._invalidate = noop;\n  variable._pending();\n  var value0 = variable._value,\n      version = ++variable._version,\n      invalidation = null,\n      promise = variable._promise = Promise.all(variable._inputs.map(variable_value)).then(function(inputs) {\n    if (variable._version !== version) return;\n\n    // Replace any reference to invalidation with the promise, lazily.\n    for (var i = 0, n = inputs.length; i < n; ++i) {\n      switch (inputs[i]) {\n        case variable_invalidation: {\n          inputs[i] = invalidation = variable_invalidator(variable);\n          break;\n        }\n        case variable_visibility: {\n          if (!invalidation) invalidation = variable_invalidator(variable);\n          inputs[i] = variable_intersector(invalidation, variable);\n          break;\n        }\n      }\n    }\n\n    // Compute the initial value of the variable.\n    return variable._definition.apply(value0, inputs);\n  }).then(function(value) {\n    // If the value is a generator, then retrieve its first value,\n    // and dispose of the generator if the variable is invalidated.\n    if (generatorish(value)) {\n      (invalidation || variable_invalidator(variable)).then(variable_return(value));\n      return variable_precompute(variable, version, promise, value);\n    }\n    return value;\n  });\n  promise.then(function(value) {\n    if (variable._version !== version) return;\n    variable._value = value;\n    variable._fulfilled(value);\n  }, function(error) {\n    if (variable._version !== version) return;\n    variable._value = undefined;\n    variable._rejected(error);\n  });\n}\n\nfunction variable_precompute(variable, version, promise, generator) {\n  function recompute() {\n    var promise = new Promise(function(resolve) {\n      resolve(generator.next());\n    }).then(function(next) {\n      return next.done ? undefined : Promise.resolve(next.value).then(function(value) {\n        if (variable._version !== version) return;\n        variable_postrecompute(variable, value, promise).then(recompute);\n        variable._fulfilled(value);\n        return value;\n      });\n    });\n    promise.catch(function(error) {\n      if (variable._version !== version) return;\n      variable_postrecompute(variable, undefined, promise);\n      variable._rejected(error);\n    });\n  }\n  return new Promise(function(resolve) {\n    resolve(generator.next());\n  }).then(function(next) {\n    if (next.done) return;\n    promise.then(recompute);\n    return next.value;\n  });\n}\n\nfunction variable_postrecompute(variable, value, promise) {\n  var runtime = variable._module._runtime;\n  variable._value = value;\n  variable._promise = promise;\n  variable._outputs.forEach(runtime._updates.add, runtime._updates); // TODO Cleaner?\n  return runtime._compute();\n}\n\nfunction variable_return(generator) {\n  return function() {\n    generator.return();\n  };\n}\n\nfunction variable_reachable(variable) {\n  if (variable._observer !== no_observer) return true; // Directly reachable.\n  var outputs = new Set(variable._outputs);\n  for (const output of outputs) {\n    if (output._observer !== no_observer) return true;\n    output._outputs.forEach(outputs.add, outputs);\n  }\n  return false;\n}\n\nfunction window_global(name) {\n  return window[name];\n}\n","import {Inspector} from \"@observablehq/inspector\";\nimport {Library} from \"@observablehq/stdlib\";\nimport {RuntimeError} from \"./errors\";\nimport Runtime from \"./runtime\";\n\nexport {Inspector, Library, Runtime, RuntimeError};\n","// https://observablehq.com/@d3/contours@247\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`# Contours\n\nShowing the [GoldsteinPrice test function](https://en.wikipedia.org/wiki/Test_functions_for_optimization).`\n)});\n  main.variable(observer(\"value\")).define(\"value\", function(){return(\n(x, y) =>\n  (1 + (x + y + 1) ** 2 * (19 - 14 * x + 3 * x ** 2 - 14 * y + 6 * x * y + 3 * y ** 2))\n  * (30 + (2 * x - 3 * y) ** 2 * (18 - 32 * x + 12 * x * x + 48 * y - 36 * x * y + 27 * y ** 2))\n)});\n  main.variable(observer(\"chart\")).define(\"chart\", [\"d3\",\"width\",\"height\",\"contours\",\"color\",\"xAxis\",\"yAxis\"], function(d3,width,height,contours,color,xAxis,yAxis)\n{\n  const svg = d3.create(\"svg\")\n      .attr(\"viewBox\", [0, 0, width + 28, height])\n      .style(\"display\", \"block\")\n      .style(\"margin\", \"0 -14px\")\n      .style(\"width\", \"calc(100% + 28px)\");\n\n  svg.append(\"g\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"#fff\")\n      .attr(\"stroke-opacity\", 0.5)\n    .selectAll(\"path\")\n    .data(contours)\n    .join(\"path\")\n      .attr(\"fill\", d => color(d.value))\n      .attr(\"d\", d3.geoPath());\n\n  svg.append(\"g\")\n      .call(xAxis);\n\n  svg.append(\"g\")\n      .call(yAxis);\n\n  return svg.node();\n}\n);\n  main.variable(observer(\"color\")).define(\"color\", [\"d3\",\"thresholds\"], function(d3,thresholds){return(\nd3.scaleLog()\n    .domain(d3.extent(thresholds))\n    .interpolate(d => d3.interpolateMagma)\n)});\n  main.variable(observer(\"thresholds\")).define(\"thresholds\", [\"d3\"], function(d3){return(\nd3.range(1, 20).map(i => Math.pow(2, i))\n)});\n  main.variable(observer(\"grid\")).define(\"grid\", [\"width\",\"height\",\"value\",\"x\",\"y\"], function(width,height,value,x,y)\n{\n  const q = 4; // The level of detail, e.g., sample every 4 pixels in x and y.\n  const x0 = -q / 2, x1 = width + 28 + q;\n  const y0 = -q / 2, y1 = height + q;\n  const n = Math.ceil((x1 - x0) / q);\n  const m = Math.ceil((y1 - y0) / q);\n  const grid = new Array(n * m);\n  for (let j = 0; j < m; ++j) {\n    for (let i = 0; i < n; ++i) {\n      grid[j * n + i] = value(x.invert(i * q + x0), y.invert(j * q + y0));\n    }\n  }\n  grid.x = -q;\n  grid.y = -q;\n  grid.k = q;\n  grid.n = n;\n  grid.m = m;\n  return grid;\n}\n);\n  main.variable(observer(\"transform\")).define(\"transform\", [\"grid\"], function(grid){return(\n({type, value, coordinates}) => {\n  return {type, value, coordinates: coordinates.map(rings => {\n    return rings.map(points => {\n      return points.map(([x, y]) => ([\n        grid.x + grid.k * x,\n        grid.y + grid.k * y\n      ]));\n    });\n  })};\n}\n)});\n  main.variable(observer(\"contours\")).define(\"contours\", [\"d3\",\"grid\",\"thresholds\",\"transform\"], function(d3,grid,thresholds,transform){return(\nd3.contours()\n    .size([grid.n, grid.m])\n    .thresholds(thresholds)\n  (grid)\n    .map(transform)\n)});\n  main.variable(observer(\"x\")).define(\"x\", [\"d3\",\"width\"], function(d3,width){return(\nd3.scaleLinear([-2, 2], [0, width + 28])\n)});\n  main.variable(observer(\"y\")).define(\"y\", [\"d3\",\"height\"], function(d3,height){return(\nd3.scaleLinear([-2, 1], [height, 0])\n)});\n  main.variable(observer(\"xAxis\")).define(\"xAxis\", [\"height\",\"d3\",\"x\",\"width\"], function(height,d3,x,width){return(\ng => g\n    .attr(\"transform\", `translate(0,${height})`)\n    .call(d3.axisTop(x).ticks(width / height * 10))\n    .call(g => g.select(\".domain\").remove())\n    .call(g => g.selectAll(\".tick\").filter(d => x.domain().includes(d)).remove())\n)});\n  main.variable(observer(\"yAxis\")).define(\"yAxis\", [\"d3\",\"y\"], function(d3,y){return(\ng => g\n    .attr(\"transform\", \"translate(-1,0)\")\n    .call(d3.axisRight(y))\n    .call(g => g.select(\".domain\").remove())\n    .call(g => g.selectAll(\".tick\").filter(d => y.domain().includes(d)).remove())\n)});\n  main.variable(observer(\"height\")).define(\"height\", function(){return(\n600\n)});\n  main.variable(observer(\"d3\")).define(\"d3\", [\"require\"], function(require){return(\nrequire(\"d3@5\")\n)});\n  return main;\n}\n","// https://observablehq.com/@mbostock/saving-svg@109\nimport define1 from \"../@d3/contours.js\";\n\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`# Saving SVG\n\n<figure style=\"display:flex;padding:10px;background:#fefedd;color:#444;font:15px/22px var(--sans-serif);\">\n<div style=\"margin:10px;\"><b>Update:</b> Saving SVG is now built-in! Open the cell menu <svg viewBox=\"0 0 8 14\" fill=\"currentColor\" stroke=\"none\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" width=\"8\" height=\"14\"><circle r=\"1.5\" cx=\"4\" cy=\"2\"></circle><circle r=\"1.5\" cx=\"4\" cy=\"7\"></circle><circle r=\"1.5\" cx=\"4\" cy=\"12\"></circle></svg> in the left margin to download any SVG cell as either SVG or PNG.</div>\n<div><img src=\"https://user-images.githubusercontent.com/4732/57958244-0ed81780-78b4-11e9-859d-bc68cc4f45b6.png\"></div>\n</figure>\n\nSay we have a dynamically-generated SVG, like this contour plot. Heres how might you save it to a file in Observable using DOM.download.`\n)});\n  const child1 = runtime.module(define1);\n  main.import(\"chart\", child1);\n  main.variable(observer()).define([\"chart\"], function(chart){return(\nchart\n)});\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`You can serialize the SVG element as a string, and then download it as an SVG file.`\n)});\n  main.variable(observer()).define([\"DOM\",\"serialize\",\"chart\"], function(DOM,serialize,chart){return(\nDOM.download(() => serialize(chart), undefined, \"Save as SVG\")\n)});\n  main.variable(observer(\"serialize\")).define(\"serialize\", [\"NodeFilter\"], function(NodeFilter)\n{\n  const xmlns = \"http://www.w3.org/2000/xmlns/\";\n  const xlinkns = \"http://www.w3.org/1999/xlink\";\n  const svgns = \"http://www.w3.org/2000/svg\";\n  return function serialize(svg) {\n    svg = svg.cloneNode(true);\n    const fragment = window.location.href + \"#\";\n    const walker = document.createTreeWalker(svg, NodeFilter.SHOW_ELEMENT, null, false);\n    while (walker.nextNode()) {\n      for (const attr of walker.currentNode.attributes) {\n        if (attr.value.includes(fragment)) {\n          attr.value = attr.value.replace(fragment, \"#\");\n        }\n      }\n    }\n    svg.setAttributeNS(xmlns, \"xmlns\", svgns);\n    svg.setAttributeNS(xmlns, \"xmlns:xlink\", xlinkns);\n    const serializer = new window.XMLSerializer;\n    const string = serializer.serializeToString(svg);\n    return new Blob([string], {type: \"image/svg+xml\"});\n  };\n}\n);\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`Alternatively, you can render the SVG to a canvas to generate a PNG.`\n)});\n  main.variable(observer()).define([\"DOM\",\"rasterize\",\"chart\"], function(DOM,rasterize,chart){return(\nDOM.download(() => rasterize(chart), undefined, \"Save as PNG\")\n)});\n  main.variable(observer(\"rasterize\")).define(\"rasterize\", [\"DOM\",\"serialize\"], function(DOM,serialize){return(\nfunction rasterize(svg) {\n  let resolve, reject;\n  const promise = new Promise((y, n) => (resolve = y, reject = n));\n  const image = new Image;\n  image.onerror = reject;\n  image.onload = () => {\n    const rect = svg.getBoundingClientRect();\n    const context = DOM.context2d(rect.width, rect.height);\n    context.drawImage(image, 0, 0, rect.width, rect.height);\n    context.canvas.toBlob(resolve);\n  };\n  image.src = URL.createObjectURL(serialize(svg));\n  return promise;\n}\n)});\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`To use this in your own notebook, import from this notebook:\n\n\\`\\`\\`js\nimport {rasterize} from \"@mbostock/saving-svg\"\n\\`\\`\\`\n\nHappy downloading!`\n)});\n  return main;\n}\n","// https://observablehq.com/@mbostock/graph-o-matic@330\nimport define1 from \"../@mbostock/saving-svg.js\";\n\nexport default function define(runtime, observer) {\n  const main = runtime.module();\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`# Graph-o-Matic\n\nEdit the textarea below to update the chart!`\n)});\n  main.variable(observer(\"chart\")).define(\"chart\", [\"dot\",\"source\"], function(dot,source){return(\ndot`${source}`\n)});\n  main.variable(observer()).define([\"html\",\"DOM\",\"rasterize\",\"chart\",\"serialize\"], async function(html,DOM,rasterize,chart,serialize){return(\nhtml`\n${DOM.download(await rasterize(chart), null, \"Download as PNG\")}\n${DOM.download(await serialize(chart), null, \"Download as SVG\")}\n`\n)});\n  main.variable(observer(\"viewof source\")).define(\"viewof source\", [\"html\"], function(html)\n{\n  const textarea = html`<textarea>digraph {\n\trankdir = LR;\n\tnode [shape = doublecircle]; LR_0 LR_3 LR_4 LR_8;\n\tnode [shape = circle];\n\tLR_0 -> LR_2 [ label = \"SS(B)\" ];\n\tLR_0 -> LR_1 [ label = \"SS(S)\" ];\n\tLR_1 -> LR_3 [ label = \"S($end)\" ];\n\tLR_2 -> LR_6 [ label = \"SS(b)\" ];\n\tLR_2 -> LR_5 [ label = \"SS(a)\" ];\n\tLR_2 -> LR_4 [ label = \"S(A)\" ];\n\tLR_5 -> LR_7 [ label = \"S(b)\" ];\n\tLR_5 -> LR_5 [ label = \"S(a)\" ];\n\tLR_6 -> LR_6 [ label = \"S(b)\" ];\n\tLR_6 -> LR_5 [ label = \"S(a)\" ];\n\tLR_7 -> LR_8 [ label = \"S(b)\" ];\n\tLR_7 -> LR_5 [ label = \"S(a)\" ];\n\tLR_8 -> LR_6 [ label = \"S(b)\" ];\n\tLR_8 -> LR_5 [ label = \"S(a)\" ];\n}`;\n  textarea.style.display = \"block\";\n  textarea.style.boxSizing = \"border-box\";\n  textarea.style.width = \"calc(100% + 28px)\";\n  textarea.style.font = \"var(--mono_fonts)\";\n  textarea.style.minHeight = \"60px\";\n  textarea.style.border = \"none\";\n  textarea.style.padding = \"4px 10px\";\n  textarea.style.margin = \"0 -14px\";\n  textarea.style.background = \"rgb(247,247,249)\";\n  textarea.style.tabSize = 2;\n  textarea.oninput = () => textarea.style.height = `${textarea.value.match(/^/gm).length * 21 + 8}px`;\n  textarea.oninput();\n  return textarea;\n}\n);\n  main.variable(observer(\"source\")).define(\"source\", [\"Generators\", \"viewof source\"], (G, _) => G.input(_));\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`See the [DOT language documentation](https://graphviz.gitlab.io/_pages/doc/info/lang.html) and the [Graphviz gallery](http://www.graphviz.org/gallery/) for examples!`\n)});\n  main.variable(observer()).define([\"md\"], function(md){return(\nmd`---\n\n## Appendix`\n)});\n  main.variable(observer(\"dot\")).define(\"dot\", [\"require\"], function(require){return(\nrequire(\"@observablehq/graphviz@0.2\")\n)});\n  const child1 = runtime.module(define1);\n  main.import(\"rasterize\", child1);\n  main.import(\"serialize\", child1);\n  return main;\n}\n","import { h, render, Component } from \"preact\";\nimport { createContext } from \"preact-context\";\nimport io from \"socket.io-client\";\nimport \"./style\";\nimport { Runtime, Inspector } from \"@observablehq/runtime\";\nimport notebook from \"@mbostock/graph-o-matic\";\n\nexport const OakfileContext = createContext();\n\nexport const SocketContext = createContext();\n\nfunction OakfileCode() {\n  return (\n    <OakfileContext.Consumer\n      render={oakfile => {\n        console.log(`qaz`, oakfile);\n        if (!oakfile) return <div>No Oakfile...</div>;\n        return (\n          <div className=\"OakfileCode\">\n            <pre>\n              <code>{oakfile.contents}</code>\n            </pre>\n          </div>\n        );\n      }}\n    />\n  );\n}\n\nfunction SocketStatus() {\n  return (\n    <div className=\"socket-status\">\n      <SocketContext.Consumer\n        render={status => {\n          return <div>{status}</div>;\n        }}\n      />\n    </div>\n  );\n}\n\nclass OakfileGraph extends Component {\n  componentDidMount() {\n    const { oakfile } = this.props;\n    const runtime = new Runtime();\n    const module = runtime.module(notebook, name => {\n      if (name === \"chart\") {\n        return new Inspector(this.base);\n      }\n    });\n    module.redefine(\"source\", () => oakfile.dot);\n  }\n  render() {\n    return <div className=\"OakfileGraph\" />;\n  }\n}\nfunction OakfileGraphConsume() {\n  return (\n    <OakfileContext.Consumer\n      render={oakfile => {\n        if (!oakfile) return <div>No Oakfile...</div>;\n        return <OakfileGraph oakfile={oakfile} />;\n      }}\n    />\n  );\n}\nclass SocketProviders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      oakfile: null,\n      status: \"disconnected\",\n    };\n    this.socket = null;\n  }\n  _onAuth = () => {\n    console.log(\"auth please\");\n    this.setState({ status: \"auth\" });\n    this.socket.on(\"Oakfile\", data => {\n      console.log(\"new oakfile:\", data);\n      this.setState({ oakfile: data });\n    });\n  };\n  _onUnAuth = err => {\n    this.setState({ stats: \"unauth\" });\n    console.error(\"unauthorized: \", err.data);\n    throw new Error(err && err.data && err.data.type);\n  };\n  _onConnect = () => {\n    console.log(\"connected\");\n    this.setState({ status: \"connected\" });\n    const params = new URL(document.baseURI).searchParams;\n    let encodedToken = params.get(\"token\");\n    if (!encodedToken) {\n      console.error(`need token`);\n      this.setState({ status: \"unauth\" });\n      throw Error(`needs token`);\n    }\n    const token = atob(encodedToken);\n    console.log(encodedToken, encodedToken.length, token);\n    this.socket\n      .emit(\"authenticate\", { token })\n      .on(\"authenticated\", this._onAuth)\n      .on(\"unauthorized\", this._onUnAuth);\n  };\n  componentDidMount() {\n    this.socket = io.connect(\"\");\n    this.socket.on(\"connect\", this._onConnect);\n    this.socket.on(\"disconnect\", () => {\n      this.setState({ status: \"disconnected\" });\n    });\n    this.socket.on(\"error\", () => console.log(\"soe socket error\"));\n  }\n  render() {\n    console.log(this.state);\n    const { oakfile, status } = this.state;\n    return (\n      <div>\n        <SocketContext.Provider value={status}>\n          <OakfileContext.Provider value={oakfile}>\n            {this.props.children}\n          </OakfileContext.Provider>\n        </SocketContext.Provider>\n      </div>\n    );\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <h1>Hello</h1>\n        <SocketProviders>\n          <OakfileCode />\n          <OakfileGraphConsume />\n          <SocketStatus />\n        </SocketProviders>\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.querySelector(\"#main\"));\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}